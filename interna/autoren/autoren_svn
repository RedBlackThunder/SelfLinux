Autoren SVN
-------------

Arbeit der Autoren mit dem SelfLinux-SVN

Stand: 31.10.2004		$Revision: 1.11 $



1 Einleitung

Wer noch NIE mit SVN gearbeitet hat, sollte diesen Text erstmal
insgesamt durchlesen und erst dann ans experimentieren gehen!

Für unsere Texte verwenden wir das SVN (Subversion Version Control System)
als Versionsverwaltungssystem. SVN ist ein geniales Werkzeug. Es
ermöglicht zwei Dinge. Zum einen die Historienverwaltung von Dateien
und zum anderen die Zusammenarbeit von mehreren Personen an diesen
Dateien. Wenn du mehr über das SVN erfahren willst, dann lies doch mal
die Doku zu SVN auf der Homepage (http://http://svnbook.red-bean.com/svnbook-1.1/svn-book.html).
Diese ist zwar sehr umfangreichund in Englisch, aber auch sehr interessant. Demnächst wird
der Text auch auf Deutsch bei SelfLinux verfügbar sein.

Hier soll lediglich gezeigt werden, welche svn-Befehle die
Autoren für alltägliche Arbeit benötigen und auf was geachtet werden
sollte. Alle hier dargestellten Befehle werden in einer Konsole
(shell) ausgeführt.

Es gibt einige grafische Programme für SVN, wie RadipSVN.
Dieses wird hier nicht erklärt! Es verwendet im Hintergrund
genau dieselben Befehle, wie sie in einer Konsole eingegeben
werden. Wenn du solche Programme benutzen möchtest, dann informiere
dich in der entsprechenden Programm-Dokumentation. 



2 Allgemeine Regeln



2.1 Wohin mit den Texten?

Prinzipiell wird jeder NEUE Text erst einmal an einen Mitarbeiter des Core-Teams
per Mail geschickt. Dieser checkt den Text dann ins SVN ein.



2.1 Wohin mit den Bildern?

Bilder sollen als zum Text gehörend wiedererkannt werden. Im Text an der Stelle wo das Bild
hinsoll, den Namen des Bildes erwähnen. 

Die Bildernamen sollten möglichst aussagekräftig nach dem Inhalt des
Bildes benannt werden, also NICHT z.B. bild1.png; bild2.png oder
ähnliches. Als Bildformat ist PNG zu verwenden. 



3 Vorbereitungen



3.1 Schreibzugriff erhalten

Nach der Anmeldung bei SelfLinux besitzt jeder Autor die Möglichkeit sich das svn
lokal auszuchecken, sowie lokal herunterzuladen. Einen Schreibzugriff auf das svn
erhält man seperat bei Florian Frank oder Frank Börner, falls erwünscht.



3.2 Zugang zum SVN

Für den Lese-Zugriff auf das SelfLinux-SVN-Repository auf
pingos.org gibt es folgende Möglichkeiten:

(Befehle auf einer Konsole [user$] bei bestehender
Internet-Verbindung eintippen)

svn checkout https://ssl.pingos.org/svn/selflinux/trunk

Über Web:
https://ssl.pingos.org/svn/selflinux/trunk/



3.3 Checkout der Arbeitskopie

Um mit dem SVN arbeiten zu können, braucht man immer eine eigene,
lokale Arbeitskopie. In dieser Arbeitskopie werden dann die
entsprechenden Dateien bearbeitet und die Änderungen dann dem
SVN-Repository mitgeteilt. Also besorgst du dir erst einmal eine
Arbeitskopie.

Dazu legst du dir ein Verzeichnis an, wo die Arbeitskopie
abgespeichert werden soll, z.B. /home/<username>/selflinux/svn oder
ähnliches. 
Dann wechselst du in dieses Verzeichnis:

user$ cd /home/<username>/selflinux/svn

Als nächstes logst du dich wie oben beschrieben in das Pingos.org-CVS ein.
Mit folgendem Befehl wird das gesamte
SL-Repository als Arbeitskopie "ausgecheckt":

svn checkout https://ssl.pingos.org/svn/selflinux/trunk

Diesen Checkout der Arbeitskopie macht man eigentlich nur
einmal. Später wird die Arbeitskopie durch den "svn update"-Befehl
aktualisiert.



4. "Alltägliche" Arbeit mit dem SVN



4.1 Anlegen eines neuen Textes

Vorraussetzung dazu ist dass man einen Schreibzugriff hat.
Jetzt wollen wir einen neuen Text anlegen. Dazu
gehen wir in das Verzeichnis unserer (ausgecheckten) lokalen
Arbeitskopie.

user$ cd /home/<username>/selflinux/svn/tutorial/...

Dort müssen wir zuerst ein Verzeichnis mit dem Namen für den neuen
Text anlegen. 

user$ mkdir <neuer_text>
(Achtung! Das ist ein Verzeichnis, keine Datei!)

Als nächstes muss dieses Verzeichnis unserem SVN-Repository bekannt
gemacht werden. Das erfolgt mit dem Befehl:

user$ svn add <neuer_text>

Damit haben wir in unserem SVN ein neues Verzeichnis im Tutorial
angelegt.

Nun wechselt man in das neue Verzeichnis und kopiert seinen Text
hinein.

user$ cd <neuer_text>
user$ cp <Quelldatei> <Zieldatei>

(Wie man das hier reinkopiert, ist natürlich jedem selbst überlassen.)

Auch hier müssen wir unsere Textdatei dem SVN bekannt machen. Aber im
Unterschied zu einem Verzeichnis erfolgt das bei Dateien in zwei
Schritten:

user$ svn add <neuer_text>
user$ svn commit  "Text ueber ... eingefuegt" <neuer_text>

Damit wird unser neuer Text endgültig in unser SVN-Repository
eingefügt.

Eine andere Möglichkeit ist:

user$ svn add <neuer_text>
user$ svn commit <neuer_text>

Es wird der Standard-Editor geöffnet um einen Kommentar in das log-file
schreiben zu können. Hier sollte sehr kurz und prägnant reingeschrieben werden,
was man an der Datei gemacht hat (z.B. Rechtschreibfehler korrigiert
oder um Kapitel soundso erweitert). Bloß keine Romane schreiben!



4.2 Ablegen von Bildern eines Textes

Bilder werden immer in dem Verzeichnis des Textes 
abgelegt. Die Schritte sind analog zu den Texten.

Wenn man mehrere Bilder hat, kann man diese natürlich auf einmal
einchecken.

user$ svn add bildname1.png bildname2.png bildname3.png

usw.

Abschließend müssen die Bilder wie die Textdateien auch ins SVN mit
"commit" eingefügt werden.

user$ svn commit "Bild soundso eingecheckt" bildname.png



4.3 Bearbeiten eines vorhandenen Textes

Wir wechseln in das Verzeichnis, wo unser Text liegt, den wir bearbeiten wollen:

user$ cd /<Pfad>/tutorial/<text>

Dann wird als erstes immer ein:

user$ svn update

gemacht. Mit svn update wird verglichen, ob die lokale Arbeitskopie
und das SVN-Repository noch gleich sind und ggf. abgeglichen. 

Jetzt können wir mit unserem Lieblingseditor die Datei
bearbeiten:

user$ EDITOR <text>

Nach der Bearbeitung müssen wir unsere Änderungen wieder ins SVN
einfügen:

user$ svn commit "Ergänzungen zu ... angebracht" <text>

Dieser Zyklus sollte bei jeder neuen Bearbeitung der Datei erneut
durchlaufen werden!



--------------------------------------------------------
Autoren: Andreas Kalbitz
	 Jörg Meinhold
	 Frank Börner
