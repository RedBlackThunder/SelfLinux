<!--
  * Titel: Java Runtime Environment installieren
  * [c] Anton Pussep
  * Autor: Anton Pussep <DarXMailX@gmx.de>
  * Layout: Anton Pussep <DarXMailX@gmx.de>
  * Lizenz: GPL
  *
  * $Revision: 1.2 $
  * $Source:  $
  *
  * Diese Datei ist Teil von SelfLinux  http://www.selflinux.org
  *
  *** $Id:  $
-->



Java Runtime Environment installieren

<!-- KEYWORDS: Java; jre; Java installieren; jre installieren; -->



<!-- Beginn Aufzählung -->

Inhaltsverzeichnis:

1. Grundsätzliche Informationen
2. jre-Download
3. jre-Installation
3.1 Entpacken
3.2 Installieren
3.2.1 Installation der RPM-Datei
3.2.2 Installation der Binaries
3.3 Konfigurieren
3.4 Zusätzliche Konfiguration
4. Webbrowser-Plugin Installieren
4.1 Mozilla
4.2 Mozilla-Firefox
4.3 Konqueror

<!-- Ende Aufzählung -->



1. Grundsätzliche Informationen

Java-Programme sind sehr weit verbreitet, deshalb sollten Sie die
Möglichkeit haben, diese auf Ihrem Computer auszuführen.

Java Runtime Environment (im Folgenden als jre abgekürzt), enthält
die Java Virtual Machine und zahlreiche Bibliotheken, damit Sie
Java-Anwendungen auf Ihrem Computer ausführen können. Dazu zählt auch
das Java-Plugin für Ihren Webbrowser. Nicht enthalten sind die
Bibliotheken und Programme, die gebraucht werden, um eigene
Java-Programme zu erstellen und zu kompilieren.

Dieser Artikel wurde getestet unter Debian 3.1 (sarge), Kernel 2.6.7
und jre 1.4.2_5.

In diesem Dokument werden zahlreiche Befehle aufgelistet, die Sie
eingeben müssen. Beachten Sie, dass Zeilen, die mit $ beginnen, von
Ihnen in die Befehlszeile eingetippt werden. Zeilen, die mit #
anfangen, zeigen die Ausgabe auf der Konsole.



2. jre-Download

Laden Sie jre von
<!-- LINK: url="http://java.com/" -->http://java.com/<!-- ENDLINK -->
herunter. Entweder als Archiv, das
die vorkompilierten Binaries enthält, oder im RPM-Format. Für
RPM-basierte Systeme (z.B. SuSE, Red Hat und Mandrake) ist das
RPM-Paket vorzuziehen.



3. jre-Installation

<!-- KEYWORDS: jre-Installation; -->



3.1 Entpacken

Nachdem Sie die Datei heruntergeladen haben, melden Sie sich als root
an und führen die Datei aus. Sie bekommen den Lizenztext angezeigt und
müssen diesem zustimmen, indem Sie yes eintippen:
$ chmod 700 ./j2re1.4.2_05_rpm.bin
$ ./j2re1.4.2_05_rpm.bin
# ...
# SUN MICROSYSTEMS, INC. ("SUN") IS WILLING TO LICENSE THE
# SOFTWARE IDENTIFIED BELOW TO YOU ONLY UPON THE CONDITION
# THAT YOU ACCEPT ALL OF THE TERMS CONTAINED IN THIS BINARY
# ...
# Do you agree to the above license terms? [yes or no]
$ yes

Nun werden die Daten entpackt, entweder eine RPM-Datei oder ein
Verzeichnis, das die Binaries enthält. In Abhängigkeit davon, für
welche Version Sie sich entschieden haben.



3.2 Installieren

Je nachdem, welche Datei Sie heruntergeladen haben, müssen Sie nur das
entsprechende der nächsten zwei Kapitel lesen und das andere
überspringen.



3.2.1 Installation der RPM-Datei

Nach dem Entpacken befindet sich eine *.rpm-Datei in Ihrem
Verzeichnis. Installieren Sie die RPM-Datei mit dem folgenden Befehl:
$ rpm -U ./j2re1.4.2_05.rpm

Die Java-Bibliotheken werden dann automatisch in das Verzeichnis
/usr/java/j2re1.4.2_5 kopiert.



3.2.2 Installation der Binaries

Nach dem Entpacken befindet sich ein Verzeichnis j2re1.4.2_5 in Ihrem
aktuellen Verzeichnis. Kopieren (oder verschieben) Sie dieses in das
Verzeichnis /usr/java:
$ mkdir /usr/java
$ cp -R ./j2re1.4.2_5 /usr/java/



3.3 Konfigurieren

<!-- KEYWORDS: jre-Konfiguration; jre konfigurieren; -->

Am wichtigsten ist es, dass in einem der Verzeichnisse, die in der
Umgebungsvariable PATH aufgelistet sind, ein Link mit dem Namen java
existiert, der auf die Java Virtual Machine zeigt. Standardmäßig wird
/usr/bin hierfür verwendet, Sie sollten es genau so machen:
$ rm /usr/bin/java
$ ln -s /usr/java/j2re1.4.2_05/bin/java /usr/bin/java



3.4 Zusätzliche Konfiguration

Um sicherzugehen, dass jre richtig installiert und konfiguriert wurde,
so dass alle Anwendungen die Bibliotheken finden, müssen nun noch ein
paar zusätzliche Links gesetzt werden. Diese sind nicht zwingend
notwendig, jedoch zu empfehlen, um eventuellen Problemen vorzubeugen.

Zuerst setzen Sie die Links auf das neue jre-Verzeichnis:
$ rm /usr/bin/java2
$ ln -s /usr/java/j2re1.4.2_05/bin/java /usr/bin/java2
$ rm /usr/lib/java
$ ln -s /usr/java/j2re1.4.2_05 /usr/lib/java
$ rm /usr/lib/java2
$ ln -s /usr/java/j2re1.4.2_05 /usr/lib/java2

Manche Programme greifen auf die Umgebungsvariable JAVA_HOME zu, also
sollte diese zur Sicherheit gesetzt werden:
$ export JAVA_HOME=/usr/java/j2re1.4.2_05
Damit diese Änderung auch beim nächsten Neustart erhalten bleibt,
müssen Sie diesen Befehl in die Datei /etc/bash.bashrc eintragen.



4. Webbrowser-Plugin Installieren

<!-- KEYWORDS: jre Brower; -->

Hier wird die Installation des Java-Plugins für Mozilla,
Mozilla Firefox und konqueror beschrieben.



4.1 Mozilla

<!-- KEYWORDS: jre Mozilla; -->

Zuerst müssen Sie das Mozilla-Home-Verzeichnis kennen. Unter Debian
ist dies /usr/lib/mozilla, unter SuSE /opt/mozilla. Dementsprechend müssen
Sie dann den Verzeichnisnamen anpassen.
$ cd /usr/lib/mozilla/plugins
$ ln -s
/usr/java/j2re1.4.2_05/plugin/i386/ns610-gcc32/libjavaplugin_oji.so
libjavaplugin_oji.so

Starten Sie nun Mozilla und schauen Sie unter "Hilfe - Über Plugins"
dort müsste das Java-Plugin aufgelistet sein.



4.2 Mozilla-Firefox

<!-- KEYWORDS: jre Firefox; -->

Hier verläuft die Installation analog zu der vorhergehenden von
Mozilla. Nur, dass das Home-Verzeichnis in diesem Fall unter Debian
/usr/lib/mozilla-firefox heißt.



4.3 Konqueror

<!-- KEYWORDS: jre Konqueror; -->

Konqueror kann mit einigen der Plugins von Mozilla umgehen, und
durchsucht deshalb das Mozilla-Plugin-Verzeichnis nach Plugins. Mit
den neuen Plugins kann konqueror jedoch leider nicht umgehen. Hier
müssen Sie das folgende Plugin verwenden:
/usr/java/j2re1.4.2_05/plugin/i386/ns4/libjavaplugin.so
Starten Sie konqueror und wählen Sie "Einstellungen - Konqueror
einrichten ... - Plugins". Klicken Sie dort auf den Knopf "Neu" und
geben den Pfad /usr/java/j2re1.4.2 05/plugin/i386/ns4/ ein. Klicken
Sie auf "Nach neuen Plugins suchen". Wenn konqueror fertig ist mit der
Suche, dann müsste das Java-Plugin unter "Plugins" aufgelistet sein.

