<?xml version="1.0" encoding="iso-8859-1"?>

<chapter>
 <title>Das Handbuch zu kdm</title>

 <author>
  <name>Steffen Hansen</name>
  <mailto>stefh@dit.ou.dk</mailto>
 </author>

 <author>
  <name>Gregor Zumstein</name>
  <mailto>zumstein@ssd.ethz.ch</mailto>
 </author>

 <author>
  <name>Neal Crook</name>
  <mailto>nac@forth.org</mailto>
 </author>

 <author>
  <name>Oswald Buddenhagen</name>
  <mailto>ossi@kde.org</mailto>
 </author>

 <layout>
  <name>Frank Börner</name>
  <mailto>f.boerner@selflinux.org</mailto>
 </layout>

 <license>
  GFDL
 </license>

 <index>kdm</index>
 
 <description>
  <textblock>
<name>Oswald Buddenhagen</name><br/>
Version 0.05.02 (2003-03-01)<br/>
Copyright 
  </textblock>
 </description>

 <split>

  <section>

   <heading>
Einführung
   </heading>

  </section>

 </split>

</chapter>

<!--
Das Handbuch zu kdm

Oswald Buddenhagen
Version 0.05.02 (2003-03-01)

Copyright © 2000 Neal Crook

Copyright © 2002 Oswald Buddenhagen

Copyright © 2003 Lauri Watts

Dieses Dokument beschreibt kdm, den KDE-Anmeldungsmanager.



Kapitel 1. Einführung

Der kdm ist eine graphische Schnittstelle, um sich beim System anzumelden. Durch Eingabe von Anmeldekennung und Passwort erfolgt eine Authentifizierung und kdm startet eine ?Sitzung?. kdm ist ein Ersatz für xdm, den X Display Manager und bietet diesem gegenüber einige Verbesserungen.




Kapitel 2. Kurzanleitung

Dies ist eine Kurzanleitung für Benutzer für die folgendes zutrifft:

    *

      X ist eingerichtet und kann mit dem Befehl startx von der Befehlszeile gestartet werden.
    *

      Typischerweise verwendet ein Benutzer nur einen einzigen Fenstermanager bzw eine einzige Desktopumgebung. Geändert wird sie nur selten, und nicht allen Benutzern fällt es leicht, dies über Editieren einer Konfigurationsdatei vorzunehmen.

Diese Einstellungen sind für viele Systeme ausreichend, bei denen ein einzelner Benutzer oder mehre Benutzer üblicherweise zunächst den Computer hochfahren und sich dann anmelden möchten.

Prozedur 2.1. Auswählen einer Standardsitzung

   1.

      Bearbeiten oder Anlegen der Datei ~/.xinitrc

      Falls Sie bereits über eine funktionierende ~/.xinitrc verfügen, können Sie diesen Schritt überspringen.
   2.

      Falls noch nicht vorhanden, fügen Sie ~/.xinitrc eine Zeile hinzu um Ihren Fenstermanager bzw Ihre Desktopumgebung zu starten.

      Für KDE sollten Sie folgendes eingeben:

      startkde

      Für andere Fenstermanager und Desktopumgebungen sollten Sie das entsprechende Kommando in der jeweiligen Dokumentation finden.
   3.

      Richten Sie wie folgt einen Link ein:

      ln -s ~/.xinitrc ~/.xsession

Wenn nun startx an der Kommandozeile eingegeben wird sollte X mit einer KDE-Sitzung starten. Als nächster Schritt wird kdm getestet.

Dazu sollte als Benutzerroot kdm an der Kommandozeile eingegeben werden.

Sie sollten nun ein Anmeldefenster sehen, das in Kapitel 3, Das Anmeldefenster beschrieben wird.

Wenn Sie nun Ihren Benutzernamen und Ihr Passwort in die dafür vorgesehenen Felder eingeben und Standard als Sitzungstyp auswählen dann sollten Sie eine KDE-Sitzung erhalten.

Falls Sie noch weiter Benutzer einrichten wollen sollten Sie die Prozedur, wie oben beschrieben, für jeden Benutzer wiederholen.
Anmerkung

Dies ist eine Kurzanleitung um kdm zum Laufen zu bringen. Sie werden wahrscheinlich darüberhinaus kdm weiter konfigurieren wollen. Zum Beispiel um die Namen von Systemkonten auszublenden, weitere Sitzungstypen einzurichten und vieles mehr. Bitte konsultieren Sie den Rest dieses Handbuchs für Informationen zu diesen Themen.





Kapitel 3. Das Anmeldefenster

Die Benutzung von kdm erfolgt über zwei Dialogboxen. Der Hauptdialog bietet folgende Funktionen:

    *

      Ein Eingabefeld Benutzername: zur Eingabe Ihrer Anmeldekennung.
    *

      Ein Eingabefeld Passwort:, um Ihr Passwort einzugeben.
    *

      Ein (optionales) Bild für jeden Benutzer (z. B. ein Digitalphoto). Klicken Sie auf ein Bild, wird der Benutzername in das Feld Benutzername:übertragen. (Diese Funktion ist der IRIX-Anmeldung nachempfunden.)
    *

      Ein Auswahlfeld Sitzungsart: zur Auswahl der gewünschten Sitzungsart. kdm kann eine Sitzung mit verschiedenen Fenstermanagern und Desktopumgebungen, die auf dem System installiert sind, starten.
    *

      (Optional) ein Bereich rechts von den Eingabefeldern, der für die Anzeige eines Bildes oder einer Analoguhr verwendet werden kann.
    *

      Einen Knopf Anmelden, der die Kombination Benutzername und Passwort prüft und dann versucht die gewählte Sitzung zu starten.
    *

      Einen Abbrechen-Knopf, der die Benutzername- und Passwort-Felder löscht.
    *

      Ein Menü-Knopf, der ein Aktionsmenü mit den folgendenEinträgen öffnet:
          o

            (Für die Konsole) Eine Option X-Server neu starten die den derzeit laufenden X-Server beendet und neu startet. Das Anmeldungsfenster wird dann erneut aufgebaut. Das kann nützlich sein, wenn die Bildschirmanzeige nicht korrekt erscheint.
          o

            (Für Fremdrechner) Eine Option Verbindung trennen die die Verbindung zum derzeit ausgewählten XDMCP-Server trennt. Falls die Verbindung mittels eines Host-Selektors aufgebaut wurde, wird das Menü des Selektors wieder aufgebaut - ansonsten wird lediglich der X-Server neugestartet und das Anmeldungsfenster wird erneut aufgebaut.
          o

            (Optional an der Konsole) Eine Option Konsole Modus, die den derzeit laufenden X-Server beendet und eine Anmeldung an der Befehlszeile präsentiert. kdm startet nach einiger Zeit wieder ein graphisches Anmeldefenster, wenn sich niemand an der Konsole angemeldet hat.
    *

      (Optional) einen Knopf Beenden, der das Menü Beenden aufruft.

Das Menü Beenden bietet die folgenden Optionen, von denen eine ausgewählt werden kann:

Herunterfahren

    Fährt das System kontrolliert herunter, danach können Sie den Rechner ausschalten.
Neu starten

    Fährt das System herunter und führt einen Neustart durch. Für Systeme, die LILO benutzen, kann man in einem weiteren Kästchen wählen, mit welchem Betriebssystem bzw. Kernel der Neustart erfolgen soll.
X Server neu starten

    Diese Option können Sie benutzen, wenn Sie Ihre X11-Einstellungen geändert haben.
Konsolen-Modus

    Hält den X-Server an und bringt das System in den Konsolen-Modus zurück. Das wird dadurch erreicht, dass das System auf den Runlevel 3 gebracht wird. Typischerweise benutzt der Systemadministrator diese Option, wenn er das System aktualisieren oder die X11-Einstellungen ändern will.

Ein Klick auf den OK-Knopf startet die gewählte Aktion; ein Klick auf den Abbrechen-Knopf schließt das Menü und kehrt zum kdm-Hauptmenü zurück. 







Kapitel 4. kdm einrichten

Inhaltsverzeichnis

Das KControl-Modul des KDE Anmeldungsmanagers

    Erscheinungsbild
    Schrift
    Hintergrund
    Herunterfahren
    Benutzer
    Vereinfachung

In diesem Kapitel wird vorausgesetzt, dass kdm bereits installiert ist und auf Ihrem System läuft und dass Sie nur sein Verhalten ändern wollen.

Wenn kdm startet, liest es zunächst die Konfigurationsdatei im Ordner $KDEDIR/share/config/kdm/ (die Datei könnte auf Ihrem System auch unter /etc/kde3/kdm/ oder an einer anderen Stelle untergebracht sein).

Die wichtigste Konfigurationsdatei ist kdmrc - alle anderen Dateien werden von dieser Datei eingebunden und könnten im Prinzip an einer beliebigen Stelle im System untergebracht sein. Natürlich macht das in der Regel keinen Sinn. Eine Ausnahme davon wäre ein bereits installiertes xdm - tatsächlich werden bei der Installation eines neuen kdm automatisch xdm-Dateien gesucht und (falls vorhanden) verwendet.

Wenn kdm startet, liest es seine Einstellungen aus der Datei kdmrc. Weil kdm laufen muss, bevor ein Benutzer angemeldet ist, ist diese Datei keinem besonderen Benutzer zugeordnet. Deshalb gibt es auch keine benutzerspezifische Datei $HOME/share/config/kdmrc; alle Benutzer teilen sich die gemeinsame Version von kdmrc. Daraus folgt dass die kdm-Einrichtung nur von jemandem geändert werden kann, der für $KDEDIR/share/config/kdmrc Schreibrechte hat (das ist normalerweise der Systemadministrator, der als root angemeldet ist).

Sie können sich die Datei kdmrc, die von Ihrem System verwendet wird, anschauen, und Sie können kdm einrichten, indem Sie diese Datei anpassen. Oder Sie benutzen im KDE-Kontrollzentrum das Menü Systemverwaltung->Anmeldungsmanager, das in den Hilfedateien für KControl beschrieben ist.

Der Rest diese Kapitels beschreibt die Einrichtung von kdm mit Hilfe des KControl-Moduls - das nächste Kapitel beschreibt die in kdmrc verfügbaren Optionen. Falls Sie nur lokale Benutzer einrichten müssen, sollte das KControl-Modul Ihren Anforderungen genügen. Müssen Sie jedoch entfernte Anmeldungen einrichten oder gleichzeitig mehrere kdm-Sitzungen betreiben, sollten Sie hier weiterlesen.
Das KControl-Modul des KDE Anmeldungsmanagers

Thomas Tanghus

Steffen Hansen

Mike McBride

Mittels diese Moduls können Sie den KDE Anmeldungsmanager kdm einrichten. Sie können einstellen wie das Anmeldungsfenster aussieht, wer den Anmeldungsmanager benutzen kann und wer den Computer herunterfahren kann.
Anmerkung

Alle Einstellungen werden in die Konfigurationsdatei kdmrc geschrieben. In ihrem Urzustand enthält sie zahlreiche Kommentare, die bei der Konfiguration von kdm nützlich sind. Die Verwendung des KControl-Moduls entfernt diese Kommentare allerdings. Alle möglichen Einstellungen in kdmrc sind in Kapitel 5, Die Konfigurationsdateien von kdm beschrieben.

Die Einstellungen die in diesem Kapitel aufgeführt sind, sind mit Verweisen zu den zugehörigen Einträgen in kdmrc versehen. Alle Einstellungen die im KControl-Modul zur Verfügung stehen sind auch in kdmrc vorhanden - umgekehrt gilt das allerdings nicht.

Um diese Einstellungen übersichtlich zu gestalten, ist das Modul in fünf Abschnitte gegliedert:Erscheinungsbild, Schrift, Hintergrund, Herunterfahren, Benutzer und Vereinfachungen.

Sie können zwischen diesen Abschnitten, mit Hilfe der Reiter am oberen Rand des Fensters, umschalten.
Anmerkung

Falls Sie nicht bereits als Systemverwalter (root) angemeldet sind, müssen Sie auf den Knopf Systemverwaltungsmodus klicken. Sie werden dann nach dem Passwort des Systemverwalters (root) gefragt. Nach Eingabe des korrekten Passworts können Sie die Einstellungen dieses Moduls verändern.
Erscheinungsbild

Auf dieser Seite kann das Erscheinungsbild von kdm, KDEs Anmeldungs-Managers festgelegt werden.

Der Begrüßungstext: ist der Titel des Anmeldungsfensters. Sie können hier verschiedene Platzhalter verwenden, die zusammen mit dem dazugehörigen Schlüssel GreetString in kdmrc beschrieben sind.

Sie können dann auswählen ob die aktuelle Systemzeit, ein Logo oder gar nichts im Anmeldefenster angezeigt wird. Auswählen können Sie diese Optionen im Logo-Bereich. Mit der Einstellung Position können Sie den Inhalt des Logo-Bereichs zentrieren oder auf feste Koordinaten einstellen. Das entspricht der Einstellung Logo-Bereich in kdmrc

Wenn Sie Logo anzeigen einstellen können Sie nun ein Logo auswählen:

    *

      Ziehen Sie eine Bilddatei auf den Bildknopf.
    *

      Klicken Sie auf den Bildknopf und wählen Sie ein Bild mittels des Auswahldialogs.

Wenn Sie kein Logo auswählen wird das Standardlogo $KDEDIR/share/apps/kdm/pics/kdelogo.xpm angezeigt.

Normalerweise wird das Anmeldefenster in der Mitte des Bildschirms angezeigt. Mit der Einstellung Position kann es an beliebiger Stelle platziert werden. Standard ist Zentriert. Falls stattdessen Benutzerdefiniert gewünscht wird, lässt sich mit den Feldern X und Y genau angeben, wo die linke obere Ecke des Anmeldefensters platziert wird. Das entspricht dem Eintrag GreeterPos in kdmrc.

KDEs Erscheinungsbild hängt in erster Linie von den Einstellungen des angemeldeten Benutzers ab. Das Erscheinungsbild von kdm dagegen kann mittels der Einstellungen GUI-Stil und Oberflächenstil bestimmt werden.Das entspricht den Einträgen GUIStyle und ColorScheme in kdmrc.

Darunter können Sie die Spracheinstellung für das Anmeldefenster vornehmen. Das entspricht der Option Language in kdmrc.
Schrift

In diesem Bereich können die Schriftarten des Anmeldefensters eingestellt werden. Hier sind nur Schriftarten einstellbar, die für alle Benutzer verfügbar sind.

Dabei sind drei Schriftarten einstellbar (Begrüßung, Fehler und Normal). Wenn Sie auf den Knopf Schriftart ändern ... klicken, erscheint ein Dialogfenster, in dem die Eigenschaften der Schriftart bestimmt werden können.

    *

      Die Schriftart Standard wird überall sonst im Anmeldefenster verwendet.
    *

      Die Schriftart Fehler wird verwendet, wenn eine Anmeldung fehlschlägt.
    *

      Die Schriftart Begrüßung wird für den Titel (Begrüßungstext) verwendet.

Sie können hier auch das Ankreuzfeld Anti-Aliasing für Schriftarten markieren, wenn Sie geglättete Schriften im Anmeldefenster sehen wollen.
Hintergrund

Hier können Sie den Desktop-Hintergrund einstellen, der beim Anmelden angezeigt wird. Dabei kann sowohl eine einzelne Farbe als auch ein Bild verwendet werden. Falls Sie ein Bild verwenden, das kleiner ist als der Desktop und Zentrieren auswählen, wird um das Bild herum die gewählte Hintergrundfarbe angezeigt.

Die Hintergrundfarben und -effekte werden von den Optionen des Reiters Hintergrund bestimmt. Ein Hintergrundbild und die Plazierung des Hintergrundbild werden mit den Optionen des Reiters Hintergrundbild ausgewählt.

Um die Standardfarbe(n) zu ändern klicken Sie einfach auf die Farbknöpfe und wählen Sie eine neue Farbe aus.

Das Auswahlmenü über den Farbknöpfen bietet verschiedene Verlaufs-Modi. Wenn Sie einen dieser Modi auswählen wird der Effekt auf dem kleinen Monitor im oberen Fensterbereich angezeigt. Ihre Möglichkeiten sind:

Durchgehend

    Wenn Sie diesen Modus wählen wird nur eine einzige Farbe (über den Knopf Farbe 1 bestimmt) verwendet, und der gesamte Hintergrund besteht nur aus dieser Farbe.
Muster

    Bei diesem Modus werden zwei Farben verwendet (mit den beiden Farbknöpfen bestimmt).

    Danach läßt sich mit Einrichtung ... ein Muster auswählen. Dazu wird ein neues Dialogfenster geöffnet - selektieren Sie einfach ein Muster und klicken sie auf OK. KDE wird dann das Muster mit den von Ihnen bestimmten Farben generieren. Weitere Informationen finden Sie im Kapitel Hintergrund: Hinzufügen, Löschen und Verändern von Mustern.
Hintergrund-Programm

    Bei dieser Einstellung ruft KDE ein externes Programm zur Generierung des Hintergrunds auf. Dabei können Sie ein beliebiges Programm verwenden - Genaueres findet sich im Kapitel Hintergrund: Verwendung eines externen Programms.
Waagrechter Verlauf

    Mit diesem Modus werden zwei Farben verwendet (über die beiden Farbknöpfe bestimmt) KDE generiert dann den Hintergrund: An der linken Bildschirmkante von Farbe 1 ausgehend und langsam in Farbe 2 übergehend - die dann an der rechten Kante erreicht wird.
Senkrechte Verlauf

    Mit diesem Modus werden zwei Farben verwendet (über die beiden Farbknöpfe bestimmt) KDE generiert dann den Hintergrund: An der oberen Bildschirmkante von Farbe 1 ausgehend und langsam in Farbe 2 übergehend - die dann an der unteren Kante erreicht wird.
Pyramidialer Verlauf

    Mit diesem Modus werden zwei Farben verwendet (über die beiden Farbknöpfe bestimmt) KDE generiert dann den Hintergrund: Von allen vier Ecken des Bildschirms von Farbe 1 ausgehend und langsam in Farbe 2 übergehend - die dann in der Bildschirmmitte erreicht wird.
Röhrenkreuz-Verlauf

    Mit diesem Modus werden zwei Farben verwendet (über die beiden Farbknöpfe bestimmt) KDE generiert dann den Hintergrund: Von allen vier Ecken des Bildschirms von Farbe 1 ausgehend und langsam in Farbe 2 übergehend - die dann in der Bildschirmmitte erreicht wird. Der ?Verlauf? unterscheidet sich dabei aber vom Pyramidialen Verlauf.
Elliptischer Verlauf

    Mit diesem Modus werden zwei Farben verwendet (über die beiden Farbknöpfe bestimmt) KDE generiert dann den Hintergrund: Von der Mitte des Bildschirms vonFarbe 1 ausgehend und langsam in Farbe 2 übergehend - die dann in den Bildschirmecken erreicht wird. Dabei wird ein elliptisches Muster erzeugt.

Der Knopf Einrichtung ... wird nur benötigt wenn Sie die Modi Hintergrund-Programm oder Muster wählen. In diesen Fällen ist der Knopf aktiv und kann zum Einstellen der Parameter verwendet werden.

Hintergrundbild

Um ein neues Hintergrundbild auszuwählen klicken Sie auf den Reiter Hintergrundbild; dann lässt sich eines der Bilder aus der Liste Hintergrundbild auswählen. Alternativ können Sie mit dem Knopf Auswählen ein beliebiges Bild verwenden.

Das Bild kann auf sechs verschieden Weisen angezeigt werden:

Kein Hintergrundbild

    Es wird kein Bild sondern die Hintergrundfarben angezeigt.
Zentriert

    Das Bild wird auf dem Bildschirm zentriert angezeigt. Die Hintergrundfarben sind dort sichtbar wo das Bild den Bildschirm nicht bedeckt.
Gekachelt

    Das Bild wird so oft dupliziert bis der gesammte Desktop bedeckt ist. Das erste Bild wird dabei in der linken oberen Ecke des Bildschirms plaziert, danach nach unten und nach rechts erneut angefügt.
Zentrierte Kacheln

    Das Bild wird so oft dupliziert bis der gesammte Desktop bedeckt ist. Das erste Bild wird dabei in der Mitte des Bildschirms plaziert, danach nach Oben, Unten, Links und Rechts erneut angefügt.
Zentrierte Maximalausdehnung

    Das Bild wird in der Mitte des Bildschirms plaziert. Es wird skaliert um den Desktop zu füllen, aber das Seitenverhältnis bleibt erhalten. Dadurch wird das Bild nicht verzerrt. 
Skaliert

    Das Bild wird wird skaliert um den Desktop zu füllen. Es wird so aufgezogen dass alle vier Ecken bedeckt werden.

Herunterfahren

Herunterfahren erlauben

Mit diesem Auswahlfeld können sie festlegen, wer das System herunterfahren darf:

    *

      Niemand: Niemand kann das System mit kdm herunterfahren. Sie müssen angemeldet sein und einen entsprechenden Befehl eingeben.
    *

      Alle: Jeder kann das System mit kdm herunterfahren.
    *

      Nur Systemverwalter: kdm erfordert, dass das root-Passwort eingegeben wird, bevor der Rechner heruntergefahren werden kann.

Diese Einstellungen können separat für lokale Benutzer und für Benutzer, die über einen Fremdrechner angemeldet sind, vorgenommen werden.

Befehle

Mit diesen drei Feldern können Sie die Befehle zum Herunterfahren spezifizieren.

Der Befehl System anhalten hat die Voreinstellung /sbin/halt. Der Befehl Neu starten die Voreinstellung /sbin/reboot.

Wenn Boot-Optionen anzeigen aktiviert ist, fragt kdm beim Neustart Optionen für den LILO-Bootmanager abfragen. Damit dies richtig funktioniert müssen die korrekten Pfadnamen für den lilo-Befehl und für die LILO-Mapping-Datei eingetragen werden. Beachten Sie, dass diese Option nicht auf allen Betriebssystem verfügbar ist.
Benutzer

Hier können Sie einstellen wie die Benutzer im Anmeldungsfenster dargestellt werden.

Sie können die Benutzerliste im Abschnitt Benutzer anzeigen von kdm ganz ausblenden. Sie haben folgende Wahlmöglichkeiten:

Liste anzeigen

    Zeigt nur Benutzer an, die für die nebenstehende Liste vorgesehen sind

    Wenn Sie das Ankreuzfeld nicht markieren, wird keine Liste angezeigt. Das ist die sicherste Einstellung, da ein Angreifer erst einen gültigen Benutzernamen und ein gültiges Passwort finden muss. Außerdem ist es eine gute Einstellung, wenn Sie zahlreiche Benutzer auf diesem System haben - die Liste kann sonst unübersichtlich werden.
Umgekehrte Auswahl

    Mit dieser Einstellung können Sie aus einer Liste die Benutzer auswählen, dienicht angezeigt werden sollen. Alle anderen werden angezeigt.

Unabhängig von den namentlich gelisteten Benutzern können Sie einen Bereich der numerischen Benutzerkennungen (UIDs) festlegen der nicht in der Liste angezeigt werde soll. Die Voreinstellung schließt UIDs unterhalb von 1000 aus, da diese häufig Dämonen oder Systemdienste sind. Gleichfalls werden UIDs größer als 65000 nicht angezeigt.

Sie können auch die Option Benutzer sortieren ankreuzen, um die Benutzer in alphabetischer Reihenfolge anzuzeigen. Ist diese Einstellung nicht markiert, werden die Benutzer in der Reihenfolge angezeigt, in der sie in der Passwortdatei stehen. Wenn Sie die Einstellung Autom. Vervollständigung eingeschaltet haben, vervollständigt kdm Benutzernamen.

Wenn Sie sich entscheiden Benutzer anzuzeigen, zeigt das Anmeldungsfenster (wählbare) Bilder für die Benutzer in der Liste an. Wenn sich jemand anmelden will, kann er seinen Benutzername oder sein Bild anklicken, das Passwort eingeben und wird dann angemeldet.

Wenn Sie Benutzerbilder zulassen, dann können Sie die Quelle für diese Bilder einstellen.

Sie können hier das Admin-Bild für jeden Benutzer im System einstellen. Abhängend von der oben getroffenen Auswahl können die Benutzer für sich stattdessen ein anderes Bild wählen.

Wenn Sie die Benutzerliste nicht anzeigen, ist das Erscheinungsbild des Anmeldefensters eher traditionell. Benutzer müssen ihren Benutzernamen und ihr Passwort eingeben, um sich anzumelden. Bei sehr vielen Benutzern wird diese Option empfohlen.
Vereinfachung

Im Reiter Vereinfachung können Sie Ihr Leben einfacher gestalten. Hier läßt sich die automatische Anmeldung einstellen und hier können Passwörter abgeschaltet werden.
Wichtig

Diese Einstellungen sollte man sich genau überlegen. Alle Optionen im ReiterVereinfachung können die Sicherheit Ihres Systems schwer beeinträchtigen. Im Normalfall sollten diese Optionen nur in einer absolut unkritischen Umgebung benutzt werden - z. B. bei einem Privatcomputer Zuhause.
Automatische Anmeldung

Automatische Anmeldung ermöglicht jedem den Zugang zu einem bestimmten Benutzerkonto auf Ihrem System - ohne irgendeine Überprüfung. Dies kann über die Option Automatische Anmeldung erlauben eingeschaltet werden.

Das dafür zugelassen Benutzerkonto können sie aus der Liste Benutzer:auswählen.
Anmeldung ohne Passwort

Mit dieser Option können sich bestimmte Benutzer ohne Passwort anmelden. Diese Funktion wird über Anmeldung ohne Passwort zulassen aktiviert.

Unterhalb dieser Einstellung sehen Sie eine Liste mit Benutzern des Systems. Benutzer die sich ohne Passwort anmelden können, können dort angekreuzt werden. In Normaleinstellung ist keiner der Benutzer angekreuzt.
Wichtig

Wie gesagt, sollte diese Option nur in einer sicheren Umgebung verwendet werden. Wird sie in einem eher öffentlich zugänglichen System verwendet, dann sollten Sie sicherstellen dass sie nur bei Benutzerkonten mit niedrig gesetzten Zugriffsrechten eingesetzt wird - z. B. beim Konto guest.

Sie können auch auswählen welcher Benutzer beim Start von kdm zunächst ?vorgeschlagen? wird. Als Voreinstellung steht Keine.Die Option Voriger schlägt automatisch den bei der letzten erfolgreichen Anmeldung verwendeten Namen vor. Es ist auch möglich immer einen bestimmten Benutzer vorzuschlagen. Zusätzlich kann kdm den Cursor in das Passwort-Feld setzen - dann können Sie bei Anzeige des Anmeldefensters sofort Ihr Passwort eingeben.

Die Option Nach Absturz des X-Servers automatisch wieder anmelden überspringt die Anmeldeprozedur falls ihr X-Server unbeabsichtigt abstürzt.








Kapitel 5. Die Konfigurationsdateien von kdm

Inhaltsverzeichnis

kdmrc- die Haupt-Konfigurationsdatei von kdm

    Die Sektion [General] von kdmrc
    Die Sektion [Xdmcp] von kdmrc
    Die Sektion [Shutdown] von kdmrc
    Die Sektionsklasse [X-*-Core] von kdmrc
    Die [X-*Greeter] Abschnittklasse von kdmrc

Angeben permanenter X-Server
XDMCP Zugriffskontrolle
Hilfsprogramme

    Setup-Programm
    Startup-Programm
    Session-Programm
    Reset-Programm

Dieses Kapitel dokumentiert die Dateien, die das Verhalten von kdm beeinflussen. Einige davon können auch über das KControl-Modul geändert werden, aber nicht alle.
kdmrc- die Haupt-Konfigurationsdatei von kdm

Das grundlegende Format für diese Datei ist an ?INI-Dateien? angelehnt. Einstellungen werden als Schlüssel/Wert-Paare in Sektionen abgelegt. Alle Einträge berücksichtigen Groß-/Kleinschreibung. Syntaktische Fehler oder unbekannte Schlüssel/Wert-Paare veranlassen kdm dazu entsprechende Fehlermeldungen auszugeben, die aber nicht-kritisch sind.

Zeilen, die mit # beginnen, sind Kommentare. Leere Zeilen werden ebenfalls ignoriert.

Sektionen werden mit [Name der Sektion] gekennzeichnet.

Sie können jeden X-Display separat konfigurieren.

Jeder Display hat einen Display-Namen, der aus dem Rechnernamen (der Host name, der bei lokalen Displays, die in StaticServers eingetragen sind, leer ist), einem Doppelpunkt und der Display-Nummer besteht. Zusätzlich gehört ein Display noch zu einer Display-Klasse, aber diese kann in den meisten Fällen ignoriert werden.

Sektionen mit Display-spezifischen Einstellungen besitzen die formale Syntax[X- Rechner [ : Nummer [ _ Klasse ] ] - Untersektion ]

Alle Sektionen mit der selben Untersektion bilden eine Sektionsklasse.

Sie können den Platzhalter * für Rechner, Nummer und Klasse verwenden. Bestandteile, die sich am Ende befinden, dürfen weggelassen werden. Für Sie wird der Platzhalter * angenommen. Der Rechner-Bestandteil kann eine Domain-Angabe sein, wie .inf.tu.dresden.de oder der Platzhalter + (trifft auf alle nicht-leeren Einträge zu).

Aus welcher Sektion eine Einstellung verwendet wird, entscheidet sich nach den folgenden Regeln:

    *

      Eine exakte Übereinstimmung hat Vorrang vor einer teilweisen Übereinstimmung (im Rechner-Bestandteil), die wiederum Vorrang vor dem Platzhalter hat. (+ hat Vorrang vor *).
    *

      Bei exakt übereinstimmenden Einträgen nimmt die Priorität von links nach rechts ab.
    *

      Beispiel: Display-Name ?meinrechner.foo:0?, Klasse ?dpy?
          o

            [X-meinrechner.foo:0_dpy] hat Vorrang vor
          o

            [X-meinrechner.foo:0_*] (identisch mit [X-meinrechner.foo:0]) hat Vorrang vor
          o

            [X-meinrechner.foo:*_dpy] hat Vorrang vor
          o

            [X-myhost.foo:*_*] (identisch mit [X-meinrechner.foo]) hat Vorrang vor
          o

            [X-.foo:*_*] (identisch mit [X-.foo]) hat Vorrang vor
          o

            [X-+:0_dpy] hat Vorrang vor
          o

            [X-*:0_dpy] hat Vorrang vor
          o

            [X-*:0_*] (identisch mit [X-*:0]) hat Vorrang vor
          o

            [X-*:*_*] (identisch mit [X-*]).
          o

            Die folgenden Sektionen stimmen nicht mit diesem Display überein:

            [X-seinrechner], [X-meinrechner.foo:0_dec], [X-*:1], [X-:*]

Häufige Sektionen sind [X-*] (alle Displays), [X-:*] (alle lokalen Displays) und [X-:0] (der erste lokale Display).

Das Format aller Schlüssel ist Schlüssel =  Wert. Schlüssel sind nur in Sektionen gültig, für die sie definiert sind. Manche Schlüssel sind für bestimmte Displays nicht anwendbar und werden dann ignoriert.

Wird eine Einstellung in keiner passenden Sektion gefunden, wird die Voreinstellung verwendet.

Sonderzeichen müssen durch einen Backslash geschützt werden (führende und anhängende Leerzeichen (\s), Tabulatoren (\t), Zeilenvorschub (\n), Wagenrücklauf (\r) und der Backslash selbst (\\).

In Listen werden die Felder durch Kommata ohne Leerzeichen getrennt.

Einige Befehlszeichenketten werden nach den vereinfachten sh-Regeln in einzelne Teile (Wörter) aufgespalten. Einfache Anführungszeichen (') und doppelte Anführungszeichen (") haben die übliche Bedeutung, der Backslash kennzeichnet alles (nicht nur Sonderzeichen). Beachten Sie, dass Backslash-Zeichen verdoppelt werden müssen, da sie ansonsten nicht als Backslash ausgewertet werden.
Anmerkung

Eine jungfräuliche kdmrc ist sehr ausführlich dokumentiert. Alle Kommentare gehen verloren, sobald Sie die Datei über das Kontrollzentrum ändern.
Die Sektion [General] von kdmrc

Diese Sektion enthält globale Einstellungen, die in keine andere Sektion passen.

ConfigVersion

    Diese Einstellung existiert einzig zum Zwecke automatischer Upgrades. Ändern Sie sie nicht! Es könnte sein, dass ihre Änderung mit zukünftigen Upgrades nicht verträglich ist. Dies kann dazu führen, dass kdm nicht mehr startet. 
StaticServers

    Liste der Anzeigen (X-Server) die dauerhaft von kdm verwaltet werden. Anzeigen mit einem Rechnernamen sind entfernte Anzeigen die bereits laufen, die anderen sind lokale Anzeigen, für die kdm einen neuen X-Server startet (siehe die Option ServerCmd). Jede Anzeige kann zu einer Klasse gehören. Hängen Sie diese an den Namen der Anzeige nach einem Unterstrich an. Details dazu finden Sie unter ?Angeben permanenter X-Server?.

    Die Voreinstellung ist ?:0?.
ReserveServers

    List der Displays auf Anforderung. Siehe StaticServers für die Syntax.

    Per Voreinstellung leer.
ServerVTs

    Liste der virtuellen Terminals, die einem X-Server zugeordnet werden. Für negative Werten wird der absolute Wert verwendet und das VT wird erst zugewiesen, wenn der Kernel es freigibt. Wenn kdm die Liste ausgeschöpft hat, werden mehr VTs als der absolute Wert des letzten Eintrags zugewiesen. Dies gilt derzeit nur für Linux.

    Per Voreinstellung leer.
ConsoleTTYs

    Diese Option ist für Betriebssysteme (BS) mit Unterstützung für virtuelle Terminals (VT) sowohl durch kdm und das BS selbst. Derzeit gilt dies nur für Linux.

    Wenn kdm in den Konsole-Modus umschaltet, überwacht es alle hier aufgeführten TTY-Zeilen (ohne das führende /dev/). Findet auf keinem davon innerhalb eines bestimmten Zeitraumes eine Aktivität statt, schaltet kdm zurück zum X login.

    Per Voreinstellung leer.
PidFile

    Die angegebene Datei wird angelegt, um darin die ASCII-Darstellung der Prozess-ID des Hauptprozesses von kdm abzulegen. Ist kein Dateiname angegeben, wird die PID nicht abgelegt.

    Per Voreinstellung leer.
LockPidFile

    Die Optione steuert, ob kdm Dateisperren verwendet, um zu verhindern, dass mehrere Display-Manager sich gegenseitig ins Gehege kommen.

    Die Voreinstellung ist ?true?.
AuthDir

    Hier wird der Ordner eingetragen, in dem kdm die Autorisierungsdateien des X-Server speichert, während die Sitzung initialisiert wird. kdm erwartet, dass hier liegengebliebene Dateien vom System bei einem Reboot entfernt werden.

    Die Autorisierungsdatei für einen bestimmten Display kann mit AuthFile in [X-*-Core] angegeben werden.

    Die Voreinstellung ist ?/var/run/xauth?.
AutoRescan

    Dieser Boolsche Wert steuert, ob kdm seine Konfigurationsdateien automatisch neu einliest, wenn es feststellt, dass diese geändert wurden.

    Die Voreinstellung ist ?true?.
ExportList

    Zusätzliche Umgebungsvariablen, die kdm an alle von ihm gestarteten Programme übergibt. LD_LIBRARY_PATH und XCURSOR_THEME sind gute Kandidaten, andere Umgebungsvariablen sind nur selten nötig.

    Per Voreinstellung leer.
RandomFile

    Falls das System keine eigene Entropie-Quelle wie /dev/urandom besitzt (siehe dazu die Option RandomDevice) und kein Entropie-Dienst wie EGD läuft (siehe dazu die Option PrngdSocket und PrngdPort), dann wird kdm den eingebauten Zufallszahlengenerator einsetzen. Dieser erstellt erstellt nacheinander Prüfsummen aus Teilen dieser Datei (deren Inhalt sich häufig ändern sollte).

    Diese Option existiert nicht unter Linux und verschiedenen BSD-Systemen.

    Die Voreinstellung ist ?/dev/mem?.
PrngdSocket

    Falls das System keinen eigenen Zufallsgenerator enthält hat (wie z. B. /dev/urandom, siehe RandomDevice), werden zufällige Daten aus dem UNIX-Socket eines Pseudo-Zufallszahlengenerators wie EGD gelesen (http://egd.sourceforge.net).

    Diese Option existiert nicht unter Linux und verschiedenen BSD-Systemen.

    Per Voreinstellung leer.
PrngdPort

    Das Selbe wie PrngdSocket, auf localhost nur TCP-Sockets verwenden. 
RandomDevice

    Der Pfad zum zeichenbasierten Gerät, von dem kdm Zufallsdaten lesen soll. Ist dieser Eintrag leer, wird das vom System bevorzugte Gerät für Entropie verwendet.

    Diese Option existiert nicht auf OpenBSD, da es stattdessen die Funktion arc4_random verwendet.

    Per Voreinstellung leer.
FifoDir

    Der Ordner, in dem die Befehls-FiFos erzeugt werden sollen. Zum Abschalten diese Option leer lassen.

    Die Voreinstellung ist ?/var/run/xdmctl?.
FifoGroup

    Die Gruppe, zu dem der globale Befehl FiFo gehören soll. Entweder ein Name oder eine numerische ID. 
DataDir

    In diesem Ordner speichert kdm seine dauerhaften Arbeitsdaten ab. Es handelt sich dabei um Daten wie z. B. den zuvor auf einer bestimmten Anzeigen angemeldeten Benutzer.

    Die Voreinstellung ist ?/var/lib/kdm?.
DmrcDir

    Der Ordner, in dem kdm die .dmrc-Dateien von Benutzern speichert. Dies wird nur benötigt, wenn die Persönlichen Ordner vor der Benutzeranmeldung nicht lesbar sind (so ist es z. B. bei AFS).

    Per Voreinstellung leer.

Die Sektion [Xdmcp] von kdmrc

Dieser Abschnitt enthält Optionen die festlegen wie kdm Anfragen von XDMCP behandelt.

Enable

    Soll kdm auf eingehende Anfragen von XDMCP warten.

    Die Voreinstellung ist ?true?.
Port

    Dies gibt den UDP-Port an, den kdm zum Warten auf eingehende XDMCP-Anfragen verwendet. Sofern Sie keine Fehlersuche auf Ihrem System betreiben sollten Sie diesen Wert in der Voreinstellung belassen.

    Die Voreinstellung ist ?117?.
KeyFile

    Eine XDMCP-Authentifizierung nach XDM-AUTHENTICATION-1 erfordert einen gemeinsam genutzten privaten Schlüssel zwischen kdm und dem Terminal. Mit dieser Option geben Sie die Datei an, die die nötigen Informationen enthält. Jeder Eintrag in der Datei enthält einen Anzeigenamen und den gemeinsamen privaten Schlüssel.

    Per Voreinstellung leer.
Xaccess

    Um nicht autorisierte XDMCP-Dienste zu verhindern und die Weiterleitung von XDMCP-IndirectQuery-Anfragen zu ermöglichen, enthält diese Datei eine Datenbank mit Rechnernamen, denen entweder direkter Zugriff auf diesen Rechner erlaubt wird oder eine Liste mit Rechnern, an die solche Anfragen weitergeleitet werden sollen. Das Format dieser Datei wird unter ?XDMCP Zugriffskontrolle? beschrieben.

    Die Voreinstellung ist ?$kde_confdir/kdm/Xaccess?.
ChoiceTimeout

    Dies ist die Anzahl Sekunden die gewartet werden soll, nachdem der Benutzer einen Rechner ausgewählt hat. Wenn die Anzeige innerhalb der Wartezeit eine XDMCP-IndirectQuery sendet, wird die Anfrage an den ausgewählten Rechner weitergeleitet. Ansonsten wird von einer neuen Sitzung ausgegangen und der Auswähler wird erneut angezeigt.

    Die Voreinstellung ist ?15?.
RemoveDomainname

    Beim Zusammenstellen des Anzeigenamens für XDMCP-Clients wird durch die Namensauflösung typischerweise ein voll qualifizierter Rechnername für das Terminal erzeugt. Weil dies manchmal verwirrend sein kann, entfernt kdm den Domänennamen vom FQHN, sofern er der Domäne des lokalen Rechners entspricht und diese Option aktiviert ist.

    Die Voreinstellung ist ?true?.
SourceAddress

    Legt fest, dass die nummerische IP-Adresse der eingehenden Verbindung auf Multihomed-Rechnern anstelle des Rechnernamens verwendet werden soll. Dies wird verwendet, um zu Verbindungsversuche auf einem falschen (möglicherweise deaktivierten) Netzwerkgerät zu verhindern.

    Die Voreinstellung ist ?false?.
Willing

    Dies gibt ein Programm an, welches (als Systemverwalter) ausgeführt wird, wenn ein XDMCP-DirectQuery oder BroadcastQuery empfangen wird und dieser Rechner XDMCP-Anzeige-Management anbietet. Die Ausgabe des Programms kann in einem Chooser-Fenster angezeigt werden. Wenn kein Programm angegeben ist, wird der Text ?Willing to manage? gesendet.

    Per Voreinstellung leer.

Die Sektion [Shutdown] von kdmrc

Dieser Bereich enthält globale Optionen, die das Herunterfahren des Systems betreffen.

HaltCmd

    Der Befehl zum Anhalten bzw. Herunterfahren des Rechners. Diese Zeichenfolge wird in einzelne Wörter aufgespalten.

    Die Voreinstellung ist ein sinnvoller Befehl für das System, auf dem kdm kompiliert wurde. Beispielsweise: /sbin/shutdown -h now. 
RebootCmd

    Der Befehl zum Neustarten des Rechners. Diese Zeichenfolge wird in einzelne Wörter aufgespalten.

    Die Voreinstellung ist ein sinnvoller Befehl für das System, auf dem kdm kompiliert wurde. Beispielsweise: /sbin/shutdown -r now. 
AllowFifo

    Gibt an, ob es erlaubt ist, das System mit Hilfe des globalen Befehls-FiFos herunterzufahren.

    Die Voreinstellung ist ?false?.
AllowFifoNow

    Legt fest, ob das Abbrechen aktiver Sitzungen erlaubt ist, wenn das System über den globalen Befehls-FiFo heruntergefahren wird.

    Dies wird erst wirksam, wenn AllowFifo aktiviert ist.

    Die Voreinstellung ist ?true?.
BootManager

    Dies legt den Bootmanager fest, den kdm zum Anbieten von Startmöglichkeiten im Dialog zum Herunterfahren verwenden soll.

    None

        no boot manager
    Grub

        Grub Boot-Manager
    Lilo

        Lilo Boot-Manager (Linux on i386 & x86-64 only)

    Die Voreinstellung ist ?None?.

Die Sektionsklasse [X-*-Core] von kdmrc

Diese Sektionsklasse enthält Einstellungen für die Einrichtung der Oberfläche kdm.

OpenDelay

    Siehe OpenRepeat.

    Die Voreinstellung ist ?15?.
OpenTimeout

    Siehe OpenRepeat.

    Die Voreinstellung ist ?120?.
OpenRepeat

    Diese Einstellungen legen kdms Verhalten beim Öffnen einer Verbindung zu einem X-Server fest. OpenDelay entspricht der gewünschten Pausenlänge (in Sekunden) zwischen erfolgreichen Versuchen, OpenRepeat ist gibt die Anzahl der Versuche an und OpenTimeout ist die Zeit, die für einen Verbindungsversuch aufgewendet werden kann. Nachdem OpenRepeat Versuche unternommen wurden, oder wenn OpenTimeout Sekunden in einem Verbindungsversuch überschritten wurden, wird der Verbindungsversuch als gescheitert angesehen.

    Die Voreinstellung ist ?5?.
StartAttempts

    Legt fest, wieviele Versuche kdm unternehmen soll, um eine Verbindung zu entfernten Anzeigen aus der Liste StaticServers zu öffnen, bevor der Verbindungsversuch aufgegeben und der deaktiviert wird. Lokale Anzeigen werden nur einmal probiert und XDMCP-Anzeigen werden unendlich oft vom Client probiert (außer die Option -once wurde an den X-Server übergeben).

    Die Voreinstellung ist ?4?.
ServerAttempts

    Legt fest, wie oft kdm versuchen soll, einen lokalen X-Server zu starten. Der Startversuch beinhaltet das Ausführen und Initialisieren.

    Die Voreinstellung ist ?1?.
ServerTimeout

    Gibt an, wie lange kdm auf den vollständigen Start eines lokalen X-Servers warten soll.

    Die Voreinstellung ist ?15?.
ServerCmd

    Die Befehlszeile zum Starten des X-Servers, ohne Displaynummer und Spezifikation des virtuellen Terminals. Diese Zeichenfolge wird in einzelne Wörter aufgespalten.

    Die Voreinstellung ist ein sinnvoller Befehl für das System, auf dem kdm kompiliert wurde. Beispielsweise: /usr/X11R6/bin/X. 
ServerArgsLocal

    Weitere Argumente für lokale Sitzungen des X-Servers. Diese Zeichenfolge wird in einzelne Wörter aufgespalten.

    Per Voreinstellung leer.
ServerArgsRemote

    Weitere Argumente für entfernte Sitzungen des X-Servers. Diese Zeichenfolge wird in einzelne Wörter aufgespalten.

    Per Voreinstellung leer.
ServerVT

    Das Virtuelle Terminal, auf dem der X-Server laufen soll. Stattdessen sollte besser die Option ServerVTs verwendet werden. Lassen Sie diesen Wert leer, wenn kdm automatisch ein VT zuweisen soll. Ein Wert von -1 verhindert die Zuweisung von VTs - dies ist nötig an Systemen mit mehreren physikalischen Konsolen. Derzeit nur für Linux. 
ServerTTY

    Diese Option ist für Betriebssysteme ohne Unterstützung für VTs gedacht (entweder von kdm oder vom Betriebssystem selbst. Dies gilt derzeit für alle Betriebssysteme außer Linux.

    Wenn kdm in den Konsolenmodus umschaltet, überwacht es dieses TTY (angegeben ohne das führende /dev/) auf Aktivität. Wenn das Terminal für einige Zeit unbenutzt ist, schaltet kdm wider zurück auf die graphische X-Anmeldeoberfläche.

    Per Voreinstellung leer.
PingInterval

    Siehe PingTimeout.

    Die Voreinstellung ist ?5?.
PingTimeout

    Um herauszufinden, wenn entfernte Anzeigen nicht mehr zur Verfügung stehen, sendet kdm in regelmäßigen Abständen einen Ping. Die Option PingInterval legt die Wartezeit zwischen den Pings fest (in Minuten). PingTimeout gibt die maximale Antwortzeit des Terminals auf einen Ping an (in Minuten). Wenn das entfernte Terminal nicht rechtzeitig reagiert, wird die Sitzung als tot deklariert und beendet.

    Wenn Sie häufiger entfernte X-Terminals verwenden, die unter Umständen die Verbindung verlieren, so sollten Sie die Wartezeit erhöhen. Der einzige Nachteil daran ist, dass eine Sitzung länger bestehen bleibt, nachdem ein Terminal versehentlich abgeschaltet wurde.

    Die Voreinstellung ist ?5?.
TerminateServer

    Legt fest, ob kdm den lokalen X-Server nach dem Sitzungsende ganz neu starten soll, anstelle ihn zu nur zurückzusetzen. Sie sollten diese Option verwenden, falls der X-Server ein Speicherleck aufweist oder das System beim Zurücksetzen abstürzen lässt.

    Die Voreinstellung ist ?false?.
ResetSignal

    Die Signalnummer, die den lokalen X-Server zum Zurücksetzen veranlasst.

    Die Voreinstellung ist ?1 (SIGHUP)?.
TermSignal

    Die Signalnummer, die den lokalen X-Server zum Beenden veranlasst.

    Die Voreinstellung ist ?15 (SIGTERM)?.
Authorize

    Dies legt fest, ob kdm Autorisierung für lokale X-Server-Verbindungen erzeugt und verwendet. Für XDMCP-Anzeigen wird die von der Anzeige angeforderte Autorisierung verwenden, nicht-XDMCP-Anzeigen unterstützen sowieso keine Autorisierung.

    Die Voreinstellung ist ?true?.
AuthNames

    Falls Authorize wahr ist, werden die hier aufgezählten Autorisierungsmechanismen verwendet. MIT-MAGIC-COOKIE-1-Autorisierung ist grundsätzlich immer verfügbar; XDM-AUTHORIZATION-1, SUN-DES-1 und MIT-KERBEROS-5 könnten ebenso verfügbar sein (abhängig von der Konfiguration beim Kompilieren).

    Die Voreinstellung ist ?DEF_AUTH_NAME?.
ResetForAuth

    Einige alte X-Server lesen die Autorisationsdatei beim Zurücksetzen X-Servers neu ein anstatt beim Prüfen der ersten Verbindung. Da kdm die Autorisierungsinformationen erst kurz vor der Verbindung erzeugt, erhält solch ein alter X-Server nicht-aktuelle Autorisierungsdaten. Diese Option veranlasst kdm dazu, das Signal SIGHUP an den X-Server zu senden, nachdem die Datei erzeugt wurde. Der dadurch veranlasste X-Server-Reset sorgt dann für das Neu-Einlesen der Datei durch den X-Server.

    Die Voreinstellung ist ?false?.
AuthFile

    Diese Datei wird verwendet, um dem X-Server die Autorisierungsdaten von kdm zu übermitteln. Dazu wird die Option -auth des X-Servers verwendet. Diese Datei sollte in einem Ordner aufbewahrt werden, der nicht von jedem beschreibbar ist. Sonst besteht die Gefahr, dass die Datei entfernt oder manipuliert wird und somit der Autorisierungsmechanismus des X-Servers nicht mehr funktionieren würde. Falls nicht angegeben, wird ein zufälliger Name aus AuthDir und dem Namen der Anzeige generiert.

    Per Voreinstellung leer.
Resources

    Diese Option gibt die Datei an, die von xrdb als Ressourcendatenbank auf das root-Fenster des Bildschirms 0 der Anzeige geladen werden soll. KDE-Programme verwenden grundsätzlich keine X-Ressourcen, daher ist diese Option nur nützlich, falls das Setup-Programm einige solche Ressourcen benötigt.

    Per Voreinstellung leer.
Xrdb

    Das xrdb-Programm, welches zum Einlesen der X-Ressourcendatei benutzt werden soll. Die Ressourcendatei wurde in Resources angegeben. Diese Zeichenfolge wird in einzelne Wörter aufgespalten.

    Die Voreinstellung ist ?${x_bindir}/xrdb?.
Setup

    Diese Zeichenfolge wird in einzelne Wörter aufgespalten. Sie gibt ein Programm an, welches (als Systemverwalter root) vor der Anzeige des Anmeldefensters ausgeführt wird. Dies kann zum Ändern des Erscheinungsbildes um das Anmeldefenster genutzt werden, oder um weitere Fenster nebenher anzuzeigen (z. B. könnten Sie hier eine xconsole ausführen). Das üblicherweise verwendete Programm hierfür heißt Xsetup. Siehe auch ?Setup-Programm?.

    Per Voreinstellung leer.
Startup

    Diese Zeichenfolge wird in einzelne Wörter aufgespalten. Sie gibt ein Programm an, welches (als Systemverwalter root) nach der Benutzer-Authentifizierung ausgeführt wird. Das üblicherweise verwendete Programm hierfür heißt Xstartup. Siehe auch ?Startup-Programm?.

    Per Voreinstellung leer.
Reset

    Diese Zeichenfolge wird in einzelne Wörter aufgespalten. Sie gibt ein Programm an, welches (als Systemverwalter root) nach Beendigung der Sitzung ausgeführt wird. Das üblicherweise verwendete Programm hierfür heißt Xreset. Siehe auch ?Reset-Programm?.

    Per Voreinstellung leer.
Session

    Diese Zeichenfolge wird in einzelne Wörter aufgespalten. Sie gibt das Sitzungsprogramm an, welches (als der Benutzer der Sitzung) ausgeführt wird. Das üblicherweise verwendete Programm hierfür heißt Xsession. Siehe auch ?Session-Programm?.

    Die Voreinstellung ist ?${x_bindir}/xterm -ls -T?.
FailsafeClient

    Falls das Session-Programm nicht ausgeführt werden kann, wird kdm auf dieses Programm zurückgreifen. Das Programm wird ohne jegliche Argumente aufgerufen, aber verfügt über die gleichen Umgebungsvariablen, als wenn eine normale Sitzung gestartet worden wäre (siehe ?Session-Programm?).

    Die Voreinstellung ist ?${x_bindir}/xterm?.
UserPath

    Die PATH-Umgebungsvariable für nicht- root-Session.

    Die Voreinstellung hängt von dem System ab, auf dem kdm kompiliert wurde. 
SystemPath

    Die PATH-Umgebungsvariable für alle Programme außer nicht-root-Session. Diese Sitzung sollte nach Möglichkeit nicht den Pfad . (den jeweils aktuellen Ordner) enthalten.

    Die Voreinstellung hängt von dem System ab, auf dem kdm kompiliert wurde. 
SystemShell

    Die PATH-Umgebungsvariable für alle Programme außer Session.

    Die Voreinstellung ist ?/bin/sh?.
UserAuthDir

    Falls kdm die normale Benutzerautorisierungsdatei ($HOME/.Xauthority) nicht schreiben kann, wird eine einzigartige Datei in diesem Ordner erstellt und die Umgebungsvariable XAUTHORITY zeigt dann auf diese neu erstellte Datei.

    Die Voreinstellung ist ?/tmp?.
AutoReLogin

    Wenn diese Einstellung aktiviert ist, wird kdm einen abgestürzten (oder mittels Strg+Alt+Entf beendeten) X-Server automatisch neu starten. Achtung: Das Aktivieren dieser Einstellung kann zu einem Sicherheitsproblem werden. Eine mit Passwort geschützte Sitzung könnte umgangen werden (es sei denn, KDEs eingebauter Bildschirmschoner mit Passwort wird verwendet).

    Die Voreinstellung ist ?false?.
AllowRootLogin

    Falls diese Einstellung deaktiviert ist, wird dem Systemverwalter root und anderen Benutzern mit der UID=0 ein direktes Anmelden untersagt.

    Die Voreinstellung ist ?true?.
AllowNullPasswd

    Wenn diese Einstellung deaktiviert ist, können sich nur noch Benutzer mit einem zugewiesenen Passwort anmelden.

    Die Voreinstellung ist ?true?.
AllowShutdown

    Dies bestimmt, wem das Herunterfahren des Systems gestattet ist. Dies gilt sowohl für das Anmeldefenster als auch für den Befehls-FiFo.

    None

        es wird kein Eintrag Herunterfahren ... angezeigt
    Root

        das root-Passwort muss zum Herunterfahren eingegeben werden
    All

        Jeder kann den Rechner herunterfahren

    Die Voreinstellung ist ?All?.
AllowSdForceNow

    Wer darf aktive Sitzungen beim Herunterfahren abbrechen.

    None

        es ist überhaupt kein erzwungenes Herunterfahren erlaubt
    Root

        das root-Passwort muss zum erzwungenen Herunterfahren eingeben werden
    All

        Jeder kann das Herunterfahren des Rechners erzwingen

    Die Voreinstellung ist ?All?.
DefaultSdMode

    Die Voreinstellung zum Herunterfahren und zur Zeiteinstellung

    Schedule

        Herunterfahren, nachdem alle aktiven Sitzungen beendet wurden (möglicherweise auf einmal)
    TryNow

        Herunterfahren, wenn keine aktiven Sitzungen offen sind; ansonsten geschieht nichts
    ForceNow

        bedingungslos Herunterfahren

    Die Voreinstellung ist ?Schedule?.
ScheduledSd

    Wie soll der Zeitplan zum Herunterfahren angeboten werden:

    Never

        überhaupt nicht
    Optional

        als Knopf in einfachen Herunterfahren-Dialogen
    Always

        anstelle der einfachen Herunterfahren-Dialoge

    Die Voreinstellung ist ?Never?.
NoPassEnable

    Passwortlose Anmeldungen auf dieser Anzeige zulassen. Nur mit größter Vorsicht verwenden!

    Die Voreinstellung ist ?false?.
NoPassUsers

    Die Benutzer, die kein Passwort zur Anmeldung benötigen. Einträge mit einem vorangestellten @ repräsentieren alle Benutzer in der so benannten Gruppe. * meint alle Benutzer außer root (und jeden anderen Benutzer mit der UID=0). Tragen Sie hier niemals den Benutzer root ein!

    Per Voreinstellung leer.
AutoLoginEnable

    Aktiviert die automatische Anmeldung. Verwenden Sie diese Einstellung mit größter Vorsicht!

    Die Voreinstellung ist ?false?.
AutoLoginAgain

    Falls wahr, wird nach dem Abmelden erneut automatisch angemeldet. Ansonsten wird die automatische Anmeldung nur beim Start einer Anzeige-Sitzung verwendet.

    Die Voreinstellung ist ?false?.
AutoLoginDelay

    Die Wartezeit in Sekunden, bevor die automatische Anmeldung durchgeführt wird. 
AutoLoginUser

    Der automatisch anzumeldende Benutzer. Geben Sie hier niemals den Benutzer root an!

    Per Voreinstellung leer.
AutoLoginPass

    Das Passwort für den automatisch anzumeldenden Benutzer. Dies wird nicht benötigt, es sei denn der Benutzer wird in einer NIS- oder Kerberos-Domäne angemeldet. Wenn Sie diese Option verwenden, sollten Sie chmod 600 kdmrc ausführen, damit das Passwort nicht durch jeden lesbar ist.

    Per Voreinstellung leer.
AutoLoginLocked

    Durch diese Option wird das System sofort nach der Anmeldung gesperrt. Dies funktioniert allerdings nur mit KDE-Sitzungen.

    Die Voreinstellung ist ?false?.
SessionsDirs

    Eine Liste mit Ordnern, die Sitzungsbeschreibungen enthalten.

    Die Voreinstellung ist ?${kde_datadir}/kdm/sessions?.
ClientLogFile

    Die Datei (relativ zum Persönlichen Ordner des Benutzers) in die die Ausgaben der Sitzung umgeleitet werden sollen. Der Platzhalter %s wird in der Zeichenkette mit dem Namen der Anzeige ersetzt. Verwenden Sie %%, wenn Sie das Prozentzeichen % erhalten möchten.

    Die Voreinstellung ist ?.xsession-errors?.
UseSessReg

    Gibt an, ob kdms eingebaute Registrierung in utmp/wtmp/lastlog benutzt werden soll. Falls nicht, sollte das Programm sessreg in den Skripten Startup und Reset, oder alternativ das PAM-Modul pam_lastlog, verwendet werden.

    Die Voreinstellung ist ?true?.

Die [X-*Greeter] Abschnittklasse von kdmrc

Diese Abschnittklasse enthält Optionen, die die Einrichtung des kdm-Anmeldefensters (Greeter) betreffen.

GUIStyle

    Geben Sie den Stil der Bedienelemente für das Anmeldefenster an. Wenn Sie die Option leer lassen, wird die eingebaute Voreinstellung verwendet (derzeit Plastik).

    Per Voreinstellung leer.
ColorScheme

    Geben Sie das Farbschema für die Bedienelemente des Anmeldefensters ein. Ein leerer Eintrag bewirkt die Verwendung der Voreinstellung Gelbartiges-Grau mit hellblauben und gelben Elementen.

    Per Voreinstellung leer.
LogoArea

    Legt fest, was im Anmeldefenster rechts neben den Eingabe-Textfeldern, bzw. falls UserList abeschaltet ist, über ihnen angezeigt werden soll:

    None

        nothing
    Logo

        das mit LogoPixmap angegebene Bild
    Clock

        eine schicke analoge Uhr

    Die Voreinstellung ist ?Clock?.
LogoPixmap

    Das im Anmeldefenster anzuzeigende Bild, falls LogoArea auf Logo eingestellt ist.

    Per Voreinstellung leer.
GreeterPos

    Die relative Position (in Prozent der Anzeigeausmaße, X, Y) an der die Mitte des Anmeldefensters erscheinen soll. kdm richtet das Fenster an den Bildschirmrändern aus, die es sonst möglicherweise überschneiden würde.

    Die Voreinstellung ist ?50,50?.
GreeterScreen

    Dies ist der Bildschirm, auf dem das Anmeldefenster auf Mehrschirmsystemen (Multi-Head, Xinerama) erscheinen soll. Die Nummerierung beginnt bei 0. Bei Xinerama entspricht dies der Reihenfolge der Auflistung im Bereich ServerLayout der Datei XF86Config. -1 bedeutet, den Bildschirm oben links zu verwenden, -2 ist der Bildschirm oben rechts. 
GreetString

    Die Überschrift im Anmeldefenster. Ein leerer Eintrag deaktiviert die Überschrift.

    Die folgenden Platzhalter werden durch entsprechenden Werte ersetzt:

    %d

        Name der aktuellen Anzeige
    %h

        der lokale Rechnername, möglicherweise mit Domänenname
    %n

        lokaler Rechnername, höchstwahrscheinlich der Rechnername ohne den Domänennamen
    %s

        das Betriebssystem
    %r

        die Betriebssystemversion
    %m

        Maschinentyp (Hardwarebezogen)
    %%

        das Prozentzeichen %

    Die Voreinstellung ist ?Willkommen zu %s auf %n?.
AntiAliasing

    Legt fest, ob die Kantenglättung für die Schrift im Anmeldefenster aktiviert werden soll.

    Die Voreinstellung ist ?false?.
GreetFont

    Die Schriftart für die Überschrift des Anmeldefensters.

    Die Voreinstellung ist ?Serif,24,bold?.
StdFont

    Die normale Schrift im Anmeldefenster.

    Die Voreinstellung ist ?Sans Serif,10?.
FailFont

    Die Schriftart, die für die Nachricht ?Anmeldung fehlgeschlagen? verwendet wird.

    Die Voreinstellung ist ?Sans Serif,10,fett?.
NumLock

    Legt den Status der Num Lock-Taste im Anmeldefenster fest:

    Off

        abschalten
    On

        einschalten
    Keep

        den aktuellen Status beibehalten

    Die Voreinstellung ist ?Keep?.
Language

    Die im Anmeldefenster zu verwendenden Regional- und Spracheinstellung, kodiert wie $LC_LANG.

    Die Voreinstellung ist ?en_US?.
UserCompletion

    Aktiviert die automatische Vervollständigung im Textfeld für den Benutzernamen.

    Die Voreinstellung ist ?false?.
UserList

    Zeigt eine Liste mit Benutzernamen, echten Namen und Bildern im Anmeldefenster an.

    Die Voreinstellung ist ?true?.
ShowUsers

    Diese Einstellung legt fest, welche Benutzer in der Benutzerliste (Option UserList) angezeigt werden und/oder für Autovervollständigung (UserCompletion) zur Verfügung stehen. Bei Wahl von Selected, enthält SelectedUsers eine endgültige Liste der Benutzer. Mit der Einstellung NotHidden enhält die Liste anfangs alle gefundenen Benutzern im System. In HiddenUsers aufgeführte Benutzer werden aus der Liste entfernt, genauso wie alle Benutzer mit einer UID größer MaxShowUID, oder einer UID die nicht 0 und kleiner als MinShowUID ist. Einträge in SelectedUsers und HiddenUsers mit einem vorangestellten @ repräsentieren alle Benutzer der so genannten Gruppe. Schlussendlich wird die fertige Liste alphabetisch sortiert, sofern die Option SortUsers aktiviert ist.

    Die Voreinstellung ist ?NotHidden?.
SelectedUsers

    Siehe ShowUsers.

    Per Voreinstellung leer.
HiddenUsers

    Siehe ShowUsers.

    Per Voreinstellung leer.
MinShowUID

    Siehe ShowUsers. 
MaxShowUID

    Siehe ShowUsers.

    Die Voreinstellung ist ?65535?.
SortUsers

    Siehe ShowUsers.

    Die Voreinstellung ist ?true?.
FaceSource

    Wenn UserList aktiviert ist, wird hiermit angegeben, aus welchen Quellen kdm die Benutzerbilder bezieht:

    AdminOnly

        aus <FaceDir>/$USER.face[.icon]
    PreferAdmin

        bevorzugt <FaceDir>, ansonsten $HOME
    PreferUser

        ... und anders herum
    UserOnly

        aus dem Persönlichen Ordner $HOME/.face[.icon] des Benutzers

    Die Bilder dürfen in jedem von Qt unterstützten Format vorliegen, aber der Dateiname muss den folgenden Erwartungen von kdm entsprechen: .face.icon muss ein 48x48 Pixel großes Symbol sein, während .face ein 300x300 Pixel großes Bild ist. Derzeit wird das große Bild nur als Sicherheit verwendet. Es wird dann auf die benötigte Größe verkleinert. Möglicherweise wird es aber in Zukunft auch im Logobereich oder einem Kurztipp angezeigt.

    Die Voreinstellung ist ?AdminOnly?.
FaceDir

    Siehe FaceSource.

    Die Voreinstellung ist ?${kde_datadir}/kdm/faces?.
PreselectUser

    Gibt an, ob und welcher Benutzer für die Anmeldung vorausgewählt sein soll:

    None

        keinen Benutzer vorauswählen
    Previous

        der Benutzer, der sich als letzter erfolgreich angemeldet hat
    Default

        Der Benutzer, der in der Option DefaultUser angegeben ist

    Falls FocusPassword aktiviert ist und ein Benutzer vorausgewählt wurde, so wird die Schreibmarke automatisch in das Passworteingabefeld gestellt, so dass direkt mit der Passworteingabe begonnen werden kann.die
    Anmerkung

    Die Vorauswahl eines Benutzers kann als Sicherheitsrisiko empfunden werden, weil einem möglichen Angreifer auf diese Weise ein gültiger Benutzername verraten wird. Nun muss er ?nur? noch das Passwort erraten und nicht mehr beides. Auf der anderen Seite könnte man auch DefaultUser entsprechend setzen, um einen gefälschten Benutzernamen einzustellen.

    Die Voreinstellung ist ?None?.
DefaultUser

    Siehe PreselectUser.

    Per Voreinstellung leer.
FocusPasswd

    Siehe PreselectUser.

    Die Voreinstellung ist ?false?.
EchoMode

    Das Passworteingabefeld verschleiert den dort eingegebenen Text. Hier können Sie wählen, wie dies geschehn soll:

    OneStar

        Für jedes eingegebene Zeichen wird ein * angezeigt
    ThreeStars

        Für jedes eingegebene Zeichen werden drei Sterne *** angezeigt
    NoEcho

        es wird nichts angezeigt, der Cursor bewegt sich nicht

    Die Voreinstellung ist ?OneStar?.
UseBackground

    Falls aktiviert, wird kdm automatisch das Programm krootimage starten, um den Hintergrund einzurichten. Ansonsten ist Das Setup-Programm dafür zuständig.

    Die Voreinstellung ist ?true?.
BackgroundCfg

    Die Konfigurationsdatei für krootimage. Sie enthält einen Abschnitt [Desktop0], genauso wie kdesktoprc auch. Die Optionen werden hier nicht weiter beschrieben. Erraten Sie deren Bedeutung oder verwenden Sie das Kontrollzentrum zur Einstellung.

    Die Voreinstellung ist ?${kde_confdir}/kdm/backgroundrc?.
GrabServer

    Zur Erhöhung der Sicherheit beansprucht das Anmeldefenster exklusiv den X-Server und anschließend beim Start die Tastatur. Diese Option gibt an, ob die Beanspruchung für die Dauer des Auslesens von Name und Passwort beibehalten werden soll. Wenn Deaktiviert, wird der X-Server wieder freigegeben, sobald die Tastatur erfolgreich beansprucht wurde, ansonsten wird der X-Server bis kurz vor den Sitzungsstart beansprucht.
    Anmerkung

    Das Aktivieren dieser Einstellung deaktiviert die Optionen UseBackground und Setup.

    Die Voreinstellung ist ?false?.
GrabTimeout

    Diese Option gibt die maximale Wartezeit für kdm an, bis eine Beanspruchung erfolgreich ist. Eine Beanspruchung könnte scheitern, wenn der X-Server oder die Tastatur bereits durch einen anderen X-Client beansprucht wurde oder wenn die Wartezeit im Netzwerk ziemlich hoch ist. Sie sollten die Wartezeit nicht unvorsichtig heraufsetzen, denn ein Benutzer könnte getäuscht werden durch ein Fenster, welches wie das Anmeldefenster von kdm aussieht. Falls die Beanspruchung durch kdm fehlschlägt, wird der X-Server beendet und neu gestartet.

    Die Voreinstellung ist ?3?.
AuthComplain

    Warnen, falls eine Anzeige keine X-Autorisierung hat. Dies ist der Fall, wenn

        *

          die Datei mit den Autorisierungsdaten für den lokalen X-Server nicht erstellt werden konnte,
        *

          eine entfernte XDMCP-Anzeige keine Autorisierung angefordert hat oder
        *

          die Anzeige eine ?entfernte? Anzeige aus der Liste StaticServers ist. 

    Die Voreinstellung ist ?true?.
LoginMode

    Gibt an, ob das Anmeldefenster für lokale Anzeigen mit der Auswahl von entfernten Rechnern oder der lokalen Anmeldung starten soll und ob der Wechsel zum jeweils anderen Modus erlaubt ist.

    LocalOnly

        nur lokale Anmeldung möglich
    DefaultLocal

        im lokalen Modus starten, das Umschalten in den entfernten Modus ist erlaubt
    DefaultRemote

        ... und anders herum
    RemoteOnly

        es können nur entfernte Rechner ausgewählt werden

    Die Voreinstellung ist ?LocalOnly?.
ChooserHosts

    Eine Liste mit Rechnern, die automatisch zum Menü für entfernte Anmeldungen hinzugefügt werden. Der besondere Eintrag * meint Broadcast. Dies hat keine Wirkung, wenn LoginMode auf LocalOnly eingetstellt ist.

    Die Voreinstellung ist ?*?.
ForgingSeed

    Diese Zahl wird als Zufallsbasis verwendet, wenn gefälschte gespeichterte Sitzungstypen usw. für unbekannte Nutzer generiert werden. Dies ist nützlich, um einem potentiellen Angreifer keine Rückschlüsse auf real existierende Benutzer zu ermöglichen. Dieser Wert sollte zufällig, aber einheitlich über die gesamte Anmeldedomäne sein.gefäl 
ShowLog

    Aktiviert kdms eingebaute xconsole. Hinweis: Dies kann nur für eine Anzeige gleichzeitig aktiv sein. Die Option ist nur verfügbar, wenn kdm mit der Option --enable-kdm-xconsole konfiguriert und kompiliert wurde.

    Die Voreinstellung ist ?false?.
LogSource

    Die Datenquelle für kdms eingebaute xconsole. Falls leer, wird eine Protokollumleitung von /dev/console angefordert. Dies zeigt keine Wirkung, wenn ShowLog deaktiviert ist.

    Per Voreinstellung leer.
PluginsLogin

    Gibt Kommunikationserweiterungen für das Anmeldefenster an; die erste in der Liste ist eingangs ausgewählt. Jede Erweiterung kann mit dem Basisnamen (expandiert zu $kde_modulordner/kgreet_basis) oder dem vollständigen Pfad angegeben werden.

    Kommunikationserweiterungen sind Module für das Anmeldefenster, mit deren Hilfe Authentifizierungsdaten über Benutzer eingeholt werden können. Mit KDE wird derzeit nur die classic-Erweiterung ausgeliefert, welche die typische Form Benutzername/Passwort unterstützt.Authe

    Die Voreinstellung ist ?classic?.
PluginsShutdown

    Das Gleiche wie PluginsLogin, nur für den Herunterfahren-Dialog.

    Die Voreinstellung ist ?classic?.
PluginOptions

    Eine Liste mit Optionen in der form Schlüssel=Wert. Die Kommunikationserweiterungen können diese Einstellungen abrufen; welche Schlüssel-Wert-Paare gültig sind, liegt im Ermessen der jeweiligen Erweiterung.

    Per Voreinstellung leer.
AllowConsole

    Zeigt die Option zur Konsolen-Anmeldung im Anmeldefenster an (falls ServerTTY/ConsoleTTYs eingerichtet ist).

    Die Voreinstellung ist ?true?.
AllowClose

    Zeigt die Option X-Server neu starten/Verbindung schließen im Anmeldefenster an.

    Die Voreinstellung ist ?true?.
Preloader

    Ein Programm, welches läuft, während das Anmeldefenster sichtbar ist. Dieses soll soviel wie möglich von der (wahrscheinlich) zu startenden Sitzung im Voraus laden.

    Per Voreinstellung leer.
UseTheme

    Legt fest, ob das Anmeldefenster einen bestimmten Stil erhalten soll

    Die Voreinstellung ist ?false?.
Theme

    Der für das Anmeldefenster zu verwendende Stil. Dies kann entweder auf einen Ordner oder auf eine XML-Datei verweisen.

    Per Voreinstellung leer.








Angeben permanenter X-Server

Jeder Eintrag in der Liste StaticServers definiert eine Anzeige, die dauerhaft verwaltet werden soll und kein XDMCP verwendet. Diese Methode wird typischerweise nur für lokale, von kdm gestartete X-Server verwendet; kdm kann jedoch auch externe Anzeigen verwalten, egal ob sie auf dem gleichen Rechner oder räumlich entfernt laufen.

Die formale Syntax lautet:

Anzeigename [_Anzeigeklasse]

für alle X-Server. ?Fremde? Anzeigen unterscheiden sich darin, dass sie den Rechnernamen im Namen der Anzeige enthalten, und sei es nur localhost.

Der Anzeigename muss der Option -display des X-Programmes angehängt werden können. Diese Angabe wird zum Erzeugen der Anzeigespezifischen Abschnittsnamen verwendet, achten Sie also darauf, die Namen korrekt anzugeben. Der Anzeigename von XDMCP-Anzeigen wird aus der Adresse des rückwärts aufgelösten Rechnernamens generiert. Zu Zwecken der Konfiguration wird das Präfix localhost von lokal laufenden XDMCP-Anzeigen nicht entfernt, um sie von durch kdm gestarteten Anzeigen unterscheiden zu können.

Die Anzeigeklasse wird auch in den Anzeigespezifischen Bereichen verwendet. Dies ist nützlich, wenn Sie viele ähnliche Anzeigen und Einstellungen für die gesamte Gruppe festlegen möchten. Wenn Sie XDMCP verwenden, muss die Anzeige ihre Klasse bekanntmachen. Das Handbuch zu Ihrem Terminal sollte die Anzeigeklasse für Ihr Gerät angeben. Falls dies nicht der Fall sein sollte, können Sie kdm im Debug-Modus betreiben und mit grep das Protokoll nach ?class? durchforsten.

Die in ReserveServers angegebenen Anzeigen werden nicht beim Start von kdm gestartet, sondern wenn der Start explizit über den Befehls-FiFo angefordert wird. Wenn Reserver-Anzeigen angegeben sind, wird das KDE-Menü ziemlich weit unten den Eintrag Neue Sitzung starten anzeigen; damit können Sie eine neue Reserve-Anzeige mit einer neuen Sitzung starten. Ihr Bildschirm wird zu der neuen Sitzung umschalten und Sie haben eine Minute Zeit, sich anzumelden. Wenn keine weiteren Reserve-Anzeigen mehr verfügbar sind, wird der Menüeintrag ausgeblendet.

Wenn kdm eine Sitzung startet, werden die Authorisierungsdaten für den X-Server eingerichtet. Für lokale Server übergibt kdm die Option -auth Dateiname an den X-Server und übergibt damit die nötigen Daten. Für XDMCP-Anzeigen übergibt kdm die Daten über die XDMCP-?Accept?-Nachricht.











XDMCP Zugriffskontrolle

Die mit AccessFile angegebene Datei enthält Informationen, mit denen kdm die Kontrolle über Verbindungsversuche von entfernten XDMCP-Anzeigen regelt. Die Datei enthält vier Arten von Einträgen: Regeln zur Reaktion auf ?direkte? und ?Broadcast?-Anfragen, Regeln zur Reaktion auf ?indirekte? Anfragen, Makrodefinitionen für ?indirekte? Anfragen und Einträge, die festlegen, auf welchen Netzwerkschnittstellen kdm auf XDMCP-Anfragen wartet. Leere Zeilen werden ignoriert, # wird als Kommentarzeichen gewertet, woraufhin der Rest der Zeile ignoriert wird, und \ bewirkt, dass ein direkt darauf folgendes ?newline?-Zeichen ignoriert wird um z. B. eine Liste über mehrere Zeilen realisieren zu können.

Das Format der ?indirekten? Einträge ist einfach, entweder ein Rechnername oder Muster, welches mit dem Rechnernamen des Anzeigegerätes verglichen wird. Muster werden von Rechnernamen mit Hilfe von einem oder mehr Metazeichen unterschieden: * passt auf eine Folge von 0 oder mehr Zeichen und ? passt auf genau ein beliebiges Zeichen. Wenn der Eintrag ein Rechnername ist, werden alle Vergleiche mit Hilfe von Netzwerkadressen durchgeführt. Jeder Name, der zur korrekten Adresse aufgelöst werden kann, ist gültig. Nur die erste für einen Rechnernamen ermittelte Netzwerkadresse wird verwendet. Für Muster werden nur kanonische Rechnernamen in den Vergleich einbezogen, stellen Sie also sicher, dass Sie keine Aliase verwenden. Rechnernamen aus XDMCP-Anfragen enthalten immer den lokalen Domänennamen, selbst wenn die Rückwärtsauflösung einen Kurznamen zurückliefert. Sie können also Muster für die lokale Domäne verwenden. Wenn Sie einem Eintrag ein ! voranstellen, so wird die Bedeutung umgekehrt, der Rechner also ausgeschlossen. Um nur auf ?direkte? Anfragen für einen Rechner oder Muster zu reagieren, können Sie dem Eintrag das Stichwort NOBROADCAST anhängen. Auf diese Weise können Sie verhindern, dass ein kdm-Server in Menüs erscheint, die auf Broadcasts reagieren.

Ein ?indirekter? Eintrag enthält ebenfalls einen Rechnername oder ein Muster, jedoch folgt dem Eintrag eine Liste mit Rechnernamen oder Makros, an die die Anfragen weitergeleitet werden sollen. ?Indirekte? Einträge können ebenfalls ausschließen. In diesem Fall müssen Sie einen (gültigen) dummy-Rechnernamen zur Verfügung stellen, damit der Eintrag von einem ?direkten? Eintrag unterschieden werden kann. Falls kdm über IPv6-Unterstützung verfügt, können auch Multicast-Adressgruppen in der Liste erscheinen. Wenn die Liste der ?indirekten? Rechner das Stichwort CHOOSER enthält, so werden ?indirekte? Anfragen nicht weitergeleitet, sondern stattdessen wird die Rechnerauswahl von kdm angezeigt. Diese wiederum sendet ?direkte? Anfragen an jeden der verbleibenden Einträge in der Liste und offeriert dann ein Menü mit allen antwortenden Anzeigen. Die Rechnerliste kann auch das Stichwort BROADCAST enthalten, damit der Chooser auch ?Broadcast?-Anfragen sendet. Beachten Sie bitte, dass einige Systeme keine UDP-Pakete via broadcast senden können, daher wird diese Funktion dort nicht korrekt arbeiten.

Bei der Überprüfung der Zugangsberechtigung für einen bestimmten Rechner wird jeder Eintrag durchgegangen und der erste passende Eintrag entscheidet über die Antwort. ?Direkte? und ?Broadcast?-Anfragen werden ignoriert, wenn nach einem ?indirekten? Eintrag gesucht wird, und umgekehrt funktioniert es genauso.

Eine Makrodefinition enthält einen Makronamen und eine Liste mit Rechnernamen und weiteren Makros, auf die dieses Makro expandiert. Um Makros von Rechnernamen unterscheiden zu können, starten Sie mit dem Prozentzeichen %.

Der letzte Eintrag dieser Art ist die LISTEN-Direktive. Die formale Syntax lautet:

 LISTEN [Schnittstelle [multicast-liste]]

Wenn eine oder mehrere LISTEN-Einträge angegeben sind, wartet kdm nur an den definierten Netzwerkschnittstellen auf XDMCP-Anfragen. Schnittstellen können entweder Rechnernamen oder IP-Adressen von Netzwerkkarten auf diesem Rechner sein. Der Platzhalter * repräsentiert alle verfügbaren Netzwerkschnittstellen. Wenn Multicast-Gruppenadressen in einer LISTEN-Zeile angegeben werden, so tritt kdm diesen Multicast-Gruppen an der Schnittstelle bei. Für IPv6-Multicast hat die IANA ff0X:0:0:0:0:0:0:12b als den permanent zugewiesenen Adressbereich für XDMCP vorgesehen. Das X im Präfix kann durch einen gültigen Bereichsidentifizierer (scope), wie z. B. 1 für Node-Local, 2 für Link-Local, 5 für Site-Local usw. (siehe IETF RFC 2373) vergeben werden. kdm verwendet in der Voreinstellung die Link-Local-Adresse ff02:0:0:0:0:0:0:12b um möglichst nah am IPv4-Pendant zu sein. Wenn keine LISTEN-Zeilen angegeben werden, wartet kdm auf allen Schnittstellen und betritt die Standard-Multicastgruppe für XDMCP-Anfragen. Um das Warten auf XDMCP-Verbindungen zu deaktivieren, können Sie eine LISTEN-Zeile ohne Adresse angeben, jedoch wird die Verwendung von [Xdmcp] Enable vorgezogen. 








Hilfsprogramme

Die folgenden Programme werden von kdm in bestimmten Startphasen ausgeführt. Es handelt sich typischerweise um Shell-Skripte.

Die Setup-, Startup- und Reset-Programme werden als Systemverwalter root ausgeführt. Beim Erstellen dieser Skripte sollte man die Systemsicherheit im Auge behalten. Das erste Argument ist auto, sofern die Sitzung aus einer automatischen Anmeldung resultiert; ansonsten werden keine Argumente an die Skripte übergeben.
Setup-Programm

Das Programm Xsetup wird ausgeführt, nachdem der X-Server gestartet oder zurückgesetzt wurde, aber befor das Anmeldefenster angezeigt wird. Hier können Sie z. B. den Hintergrund manipulieren (falls die Option UseBackground deaktiviert ist) oder zusätzliche Fenster anzeigen lassen.

Zusätzlich zu den mit ExportListe angegebenen, werden noch die folgenden Umgebungsvariablen übergeben:

DISPLAY

    der zugewiesene Anzeigename
PATH

    der Wert von SystemPath
SHELL

    der Wert von SystemShell
XAUTHORITY

    kann auf eine authority-Datei gesetzt werden
DM_CONTROL

    der Wert von FifoDir

Beachten Sie, dass andere Fenster keinerlei Eingaben von der Tastatur erhalten werden, weil kdm die Tastatur für sich beansprucht. Die Interaktion mit der Maus ist jedoch möglich. Gehen Sie vorsichtig mit möglichen Sicherheitsproblemen um. Wenn GrabServer aktiviert ist, kann Xsetup gar keine Verbindung zur Anzeige herstellen. Ressourcen für dieses Programm können in der Datei Resources abgelegt werden.
Startup-Programm

Das Programm Startup wird als Systemverwalter root ausgeführt, wenn der Benutzer sich anmeldet. Hier können Einträge in utmp vorgenommen werden (dafür könnte sessreg nützlich sein), entfernte Persönliche Ordner des Benutzers eingebunden werden, oder die Sitzung beendet werden falls eine Voraussetzung nicht erfüllt wird. Die meisten dieser Aufgaben werden auf modernen Systemen bereits von entsprechenden PAM-Modulen bereitgestellt.

Zusätzlich zu den mit ExportListe angegebenen, werden noch die folgenden Umgebungsvariablen übergeben:

DISPLAY

    der zugewiesene Anzeigename
HOME

    der initiale Arbeitsordner des Benutzers
LOGNAME

    der Benutzername
USER

    der Benutzername
PATH

    der Wert von SystemPath
SHELL

    der Wert von SystemShell
XAUTHORITY

    kann auf eine authority-Datei gesetzt werden
DM_CONTROL

    der Wert von FifoDir

kdm wartet, bis das Programm sich beendet, bevor die eigentliche Sitzung des Benutzers startet. Wenn der Rückgabewert des Programms nicht 0 ist, wird kdm die Sitzung nicht fortführen und stattdessen erneut authentifizieren.
Session-Programm

Das Programm Xsession ist das Kommando, welches als die Sitzung des Benutzers ausgeführt wird. Sie wird mit den Rechten des angemeldeten Benutzers ausgeführt. Das erste Argument an das Programm ist der Wert failsafe, default oder custom oder eine Zeichenkette, die von einer Bourne-Shell ausgewertet werden kann.Zeichenket

Zusätzlich zu den mit ExportListe angegebenen, werden noch die folgenden Umgebungsvariablen übergeben:

DISPLAY

    der zugewiesene Anzeigename
HOME

    der initiale Arbeitsordner des Benutzers
LOGNAME

    der Benutzername
USER

    der Benutzername
PATH

    der Wert von UserPath (oder SystemPath für root-Sitzungen)
SHELL

    Die Standard-Shell des Benutzers
XAUTHORITY

    kann auf eine vom Standard abweichende Authority-Datei eingestellt werden
KRBTKFILE

    kann auf einen Kerberos4-Benutzerdaten-Zwischenspeicher-Namen eingestellt werden
KRB5CCNAME

    kann auf einen Kerberos5-Benutzerdaten-Zwischenspeicher-Namen eingestellt werden
DM_CONTROL

    der Wert von FifoDir
XDM_MANAGED

    wird eine kommaseparierte Liste mit Parametern enthalten, die für die Sitzung interessant sein könnten. Dazu gehört zum Beispiel die Adresse zum Befehls-FiFo und seinen unterstützten Funktionen und welche Kommunikationserweiterung für die Anmeldung benutzt wurde.
DESKTOP_SESSION

    der Name der Sitzung, die der Benutzer ausgewählt hat

Reset-Programm

Entsprechend zu Xstartup wird Xreset ausgeführt, nachdem die Sitzung beendet wurde. Dies wird als Systemverwalter root ausgeführt und sollte die Befehle zum Rückgängigmachen der Kommandos aus Xstartup enthalten. Dazu gehört z. B. das Entfernen der Einträge aus utmp oder das Lösen der Laufwerkseinbindungen von Dateiservern.

Die Umgebungsvariablen, die an Xstartup übergeben wurden, werden ebenso an Xreset übergeben. 








Kapitel 6. Ihr System für die Benutzung von kdm einrichten

Inhaltsverzeichnis

kdm einstellen

Für dieses Kapitel wird vorausgesetzt, dass Ihr System bereits für das X Window System eingerichtet ist und das Sie es nur noch für eine graphische Anmeldung einstellen müssen.
kdm einstellen

Der Standard-Runlevel bestimmt, ob Ihr Systemstart mit einer Eingabeaufforderung auf einem Terminal (Konsolen-Modus) endet oder mit einer graphischen Eingabeaufforderung wie kdm. Der Runlevel wird vom Programm /sbin/init gesetzt, das die Datei /etc/inittab benutzt. Die Standard-Runlevel, die von verschiedenen Unix-Systemen (und Linux-Distributionen) benutzt werden, sind unterschiedlich, aber wenn Sie die Datei /etc/inittab betrachten, sollte der Anfang dieser Datei in etwa so aussehen:

# Default Runlevel. The Runlevels used by RHS are:
# 0 - halt (Do NOT set initdefault to this)
# 1 - Single user mode
# 2 - Multiuser, without NFS
# 3 - Full multiuser mode
# 4 - unused
# 5 - X11
# 6 - reboot (Do NOT set initdefault to this)

id:3:initdefault:  

Alle Zeilen dieses Auszuges bis auf die letzte sind Kommentare. Die Kommentare zeigen, dass Runlevel 5 für X11 benutzt wird und Runlevel 3 für den Mehrfachbenutzermodus ohne X11 (Konsolen-Modus). Die letzte Zeile legt fest, dass der Standard-Runlevel des Systems 3 ist (Konsolen-Modus). Wenn Ihr System zur Zeit eine graphische Eingabeaufforderung benutzt (z. B. xdm), wird sein Standard-Runlevel dem für X11 entsprechen.

Der Runlevel mit graphischer Eingabeaufforderung (xdm) hat für einige gebräuchliche Linux-Distributionen folgende Werte:

    *

      5 für Red Hat® ab 3.x und für Mandrake?
    *

      4 für Slackware
    *

      3 für SuSE® 4.x, und 5.x

Der erste Schritt für Ihr System ist, sicherzustellen, dass Sie kdm von der Kommandozeile aus starten können. Wenn das funktioniert, können Sie Ihr System so einrichten, dass kdm automatisch bei jedem System(neu)start startet.

Um kdm zu testen, müssen Sie Ihr System zuerst in einen Runlevel bringen, in dem xdm nicht läuft. Dazu müssen Sie einen Befehl wie den folgenden geben:

/sbin/init 3

Anstelle der Zahl 3 müssen Sie den entsprechenden Wert für den Konsolen-Modus auf Ihrem System benutzen.

Wenn Ihr System Pluggable Authentication Modules (PAM) benutzt, was bei den meisten modernen Linux®- und Solaris-Systemen der Fall ist, sollten Sie prüfen, ob Ihre PAM-Einstellungen das Anmelden mit einem Dienst namenskde erlauben. Wenn Sie xdm bereits vorher erfolgreich benutzt haben, müssen Sie Ihre PAM-Einstellungen nicht ändern, um kdm benutzen zu können (/etc/pam.conf oder /etc/pam.d/kde). Hinweise zur Einrichtung von PAM würden den Rahmen dieses Handbuches sprengen, aber zu PAM gibt es eine umfangreiche Dokumentation.(siehe auch /usr/share/doc/*pam*/html/).

Jetzt sollten Sie kdm mit dem folgenden Befehl testen:

kdm -nodaemon

Wenn Sie das kdm-Anmeldefenster sehen und sich anmelden können, ist alles in Ordnung. Das Schlimmste, was hier passieren kann, ist dass der Laufzeit-Linker die shared libraries für Qt? oder KDE nicht findet. Wenn Sie eine binäre Distribution der KDE-Bibliotheken installiert haben, stellen Sie sicher, dass kdm dort installiert ist, wo die Bibliotheken dieanderen Bestandteile von KDE vermuten und setzen Sie die Umgebungsvariablen, die auf Ihre KDE- und Qt?-Bibliotheken zeigen.

Zum Beispiel:

export 
KDEDIR=/opt/kde
export 
QTDIR=/usr/lib/qt2
export 
PATH=$KDEDIR/bin:$QTDIR/bin:$PATH
export 
LD_LIBRARY_PATH=$KDEDIR/lib:$QTDIR/lib

Wenn Sie noch immer keinen Erfolge haben, versuchen Sie, stattdessen xdm zu starten um sicherzustellen, dass kein grundlegenderes Problem mit den X-Einstellungen dahinter steckt.

Wenn Sie kdm erfolgreich starten können, ersetzen Sie xdm durch kdm. Dies ist wieder je nach Distribution unterschiedlich.

    *

      Bei einer Red Hat®.-Distribution bearbeiten Sie in /etc/inittab, diese Zeile:

      x:5:respawn:/usr/X11/bin/xdm -nodaemon

      und ersetzen Sie diese durch:

      x:5:respawn:/opt/kde/bin/kdm

      Dadurch wird init dazu veranlasst kdm neu zu starten, wenn sich das System im Runlevel 5 befindet. Beachten Sie, dass kdm die -nodaemon nicht benötigt.
    *

      Bei einer Mandrake?-Distribution wird im X11 Runlevel in /etc/inittab das Shellskript /etc/X11/prefdm aufgerufen. In diesem Skript wird ausgewählt, welcher Anmeldungsmanager (unter anderen kdm) benutzt wird. Stellen Sie sicher, das alle Verzeichnispfade korrekt sind.
    *

      Bei einerSuSE® -Distribution müssen Sie in der Datei /sbin/init.d/xdm ganz am Anfang die folgende Zeilen hinzufügen:

      . /etc/rc.config
      DISPLAYMANAGER=kdm
      export DISPLAYMANAGER

    *

      Bei FreeBSD bearbeiten Sie /etc/ttys und suchen Sie die folgende Zeile:

      ttyv8   "/usr/X11R6/bin/xdm -nodaemon"  xterm   off secure

      und ändern Sie diese wie folgt:

      ttyv8   "/usr/local/bin/kdm"  xterm   on secure

    *

      Bei den meisten anderen Distributionen wird die Einrichtung auf eine vergleichbare Art vorgenommen.

Nun können Sie kdm testen, indem Sie Ihr System auf den Runlevel für die graphische Anmeldung bringen. Geben Sie auf der Befehlszeile folgenden Befehl ein:

/sbin/init 5

Anstelle der Zahl 5 nehmen Sie den entsprechenden Wert für den Runlevel auf Ihrem System, der X11 startet.

Als letzten Schritt müssen Sie den Parameter initdefault in der Datei /etc/inittab ändern. Geben Sie hier den Runlevel an, der X11 startet.
Warnung

Bevor Sie diese Änderungen durchführen, sollten Sie sicherstellen, dass Sie ihr System neu starten können, falls ein Problem auftritt. Dies kann in Form einer ?Rettungs?-Bootdiskette Ihrer Distribution oder auch durch ein spezielles ?Rettungssystem? wie etwa tomsrtbt geschehen. Bitte nehmen Sie diese Warnung ernst.

Das erfordert gewöhnlich eine Änderung der folgenden Zeile:

id:3:initdefault:

zu

id:5:initdefault:

Nach einem Neustart sollten Sie jetzt das kdm graphische Anmeldungsfenster sehen.

Sollte das nicht geschehen, so liegt das Problem wahrscheinlich darin, dass die Umgebungsvariable während des Bootvorgangs andere Werte haben, als während ihres Tests. Falls Sie versuchen zwei Version von KDE nebeneinander zu betreiben sollten, Sie besonders darauf achten dass die Umgebungsvariablen PATH und LD_LIBRARY_PATH korrekt gesetzt sind, und das die Startup-Skripte diese nicht irgendwie überschreiben.








Kapitel 7. Unterstützung mehrerer Window-Manager

kdm erkennt die meisten verfügbaren Window-Manager und Arbeitsumgebungen beim Start. Neu installierte Umgebungen sollten automatisch im Hauptdialog von kdm unter Sitzungstyp: erscheinen.

Verwenden Sie einen ziemlich neuen Window-Manager oder eine Umgebung, die kdm nicht unterstützt, sollten Sie zunächst prüfen, ob die Anwendung im PATH steht und oder bei der Installation einen unüblichen Namen erhalten hat.

Im Falle, dass die Anwendung sehr neu ist und von kdm noch nicht unterstützt wird, können Sie einen neuen Sitzungstyp einfach selbst hinzufügen.

Die Sitzungen sind in .desktop-Dateien im Order KDEDIR/share/apps/kdm/sessions abgelegt. Sie können einfach eine entsprechend benannte .desktop-Datei in diesem Ordner ablegen. Die Felder sind:

[Desktop Entry]
Encoding=UTF-8 Dieses Feld ist auf UTF-8 festgelegt und kann
ausgelassen werden.
Type=XSession  Dieses Feld ist auf XSession festgelegt
und kann ausgelassen werden.
Exec=executable name Wird an 
eval exec in einer Bourne-Shell übergeben.
TryExec=executable name Unterstützt, 
aber nicht erforderlich.
Name=Der Name, der in der  Liste der kdm-Sitzungen erscheint

Es gibt außerdem noch drei ?magische? Sitzungen:

Standard

    Die Standard-Sitzung für kdm ist normalerweise KDE, aber Sie kann vom Systemverwalter angepasst werden. 
Benutzerdefiniert

    Die Sitzung "Benutzerdefiniert" führt die Datei ~/.xsession des Benutzers aus, sofern diese existiert. 
Abgesichert

    Abgesichert startet eine minimale Arbeitssitzung und dient nur zu Debugging-Zwecken. 

Um einen Sitzungstyp zu überschreiben, kopieren Sie die .desktop-Datei aus dem data-Ordern in den config-Ordner und bearbeiten Sie nach Ihren Wünschen. Die mitgelieferen Sitzungstypen können entfernt werden, indem diese durch .desktop-Dateien "überdeckt" werden, die den Eintrag Hidden=true enthalten. Für die magischen Sitzungstypen existieren per Voreinstellung keine .desktop-Dateien, aber KDM tut so, als sei dies der Fall. Deshalb können Sie diese wie jeden anderen Sitzungstyp überschreiben. Sie sollten jetzt wissen, wie Sie einen neuen Sitzungstyp hinzufügen.







Kapitel 8. kdm für Anmeldungen über Fremdrechner benutzen (XDMCP)

XDMCP ist der Open-Group-Standard, das ?X Display Manager Control Protocol?. Dieses wird benutzt um Verbindungen zwischen verschiedenen Rechnern eines Netzwerks herzustellen.

XDMCP ist in Situation von Nutzen in denen sich mehrere Benutzer mit Workstations einen leistungsstarken Server teilen, der mehrere X-Sitzungen gleichzeitig abwickeln kann. Zum Beispiel lässt sich XDMCP einsetzen um selbst alte Computer weiter verwenden zu können. Ein Pentium oder sogar nur ein 486er-Computer mit 16 MB RAM ist ausreichend um X zu betreiben. Mittels XDMCP kann so ein Computer eine komplette, moderne KDE-Sitzung eines Servers ausführen. Auf dem Server gilt, dass weitere KDE-Sitzungen zu einer bereits bestehenden nur geringfügig mehr Ressourcen verbrauchen.

Dennoch - eine weitere Methode zur Anmeldung zum System bereitzustellen hat natürlich einen Einfluß auf die Sicherheit des Systems. Es empfiehlt sich diesen Service nur dann einzurichten wenn X-Server von Fremdrechnern auf diesem System Anmeldevorgänge durchführen sollen. Benutzer mit nur einem UNIX®-System sollten diesen Service nicht aktivieren.









Kapitel 9. Fortgeschrittene Themen

Inhaltsverzeichnis

Befehls-Sockets

Befehls-Sockets

Mit dieser Funktion können Sie kdm fernsteuern. Sie ist hauptsächlich für die Verwendung durch ksmserver und kdesktop aus einer laufenden Sitzung heraus gedacht, kann aber auch von anderen Anwendungen genutzt werden.

Hierbei handelt es sich um UNIX® Domain-Sockets, die sich in den Unterordnern des Ordners befinden, der durch FifoDir= festgelegt wurde. Der Unterordner ist der Schlüssel zur Adressierung und die Sicherheit. Alle Sockets haben den Namen socket sowie die Dateiberechtigung rw-rw-rw- (0666). Dies ist dadurch bedingt, dass manche Systeme die Dateiberechtigungen von Socket-Dateien ignorieren.

Es gibt zwei Arten von Sockets: den globalen (dmctl) und die display-spezifischen (dmctl-<display>).

Der Unterordner des globalen Sockets gehört dem Systemverwalter root, die Unterordner der display-spezifischen gehören dem Benutzer der jeweiligen Arbeitssitzung (root oder der angemeldete Benutzer). Die Gruppenzugehörigkeit der Unterordner kann über FifoGroup= umgestellt werden, andernfalls ist die Gruppe root. Die Dateiberechtigungen der Unterordner sind rwxr-x--- (0750).

Die Felder eines Befehls werden durch Tabulatoren (\t) getrennt, die Felder einer Liste durch Leerzeichen. Leerzeichen in einem Listenfeld werden durch \s dargestellt.

Der Befehl wird mit einem Zeilenumbruch (\n) abgeschlossen.

Das selbe gilt für Antworten. Die Antwort bei Erfolg ist ok, eventuell gefolgt von der angeforderten Information. Die Antwort bei einem Fehler ist ein Datenwort im Stil von errno (z. B. perm, noent, usw.), gefolgt von einer längeren Erläuterung.

Globale Befehle:

login display (now | schedule) Benutzer Passwort [session_arguments]

    Benutzer am angegebenen Display anmelden. Wenn now angegeben ist, wird eine gerade laufende Sitzung abgebrochen, andernfalls wird die Anmeldung erst nach Beenden der aktuellen Sitzung durchgeführt. "session_arguments" sind im Format von printf angegebene Inhalt für .dmrc. Nicht aufgeführte Schlüssel sind mit den zuletzt gespeicherten Werten vorbelegt.

display-spezifische Befehle:

lock

    Dieses Display ist als gesperrt markiert. Wenn der X-Server in diesem Zustand abstürzt, erfolgt keine automatische Anmeldung.
unlock

    Hebt den Effekt von lock auf und schaltet die automatische Anmeldung wieder ein.
suicide

    Die derzeit laufende Arbeitssitzung wird zum Abbruch gezwungen. Es wird keine automatische Anmeldung versucht, aber ein geplantes "login" ausgeführt.

Befehle für alle Sockets

caps

    Gibt eine Liste der Eigenschaften dieses Sockets zurück:

    kdm

        identifiziert kdm für den Fall, dass ein anderer Display-Manager dieses Protokoll ebenfalls unterstützt.
    list, lock, suicide, login

        Der entsprechende Befehl wird unterstützt
    bootoptions

        Der Befehl listbootoptions und = zum shutdown werden unterstützt
    shutdown <list>

        shutdown wird unterstützt und ist für die aufgeführten Benutzer (eine kommaseparierte Liste) erlaubt. * steht für alle authentifizierten Benutzer.
    nuke <list>

        Ein erzwungenes Herunterfahren kann von allen aufgeführten Benutzern ausgeführt werden.
    nuke

        Ein erzwungenes Herunterfahren kann von jedem Benutzer ausgeführt werden
    reserve <anzahl>

        Es sind Reserve-Displays eingerichtet, und davon sind anzahl gerade verfügbar
    list [all | alllocal]

        Gibt eine Liste der laufenden Sitzungen zurück. Als Voreinstellung werden alle aktiven Sitzungen aufgeführt. Wird all angegeben, werden auch passive Sitzungen aufgeführt. Wird alllocal angegeben, werden passive Sitzungen ebenfalls aufgelistet aber alle eingehenden Sitzungen auf anderen Rechnern übergangen.

        Jeder Eintrag für eine Sitzung besteht aus einem mit Kommas getrennten Tupel aus:

            *

              Display- oder TTY-Name
            *

              VT-Namen für lokale Sitzungen
            *

              Dem Namen des angemeldeten Benutzers oder einem leeren Eintrag bei passiven Sitzungen und ausgehenden Sitzungen auf anderen Rechnern
            *

              Sitzungstyp oder ?<remove>? für ausgehende Sitzungen auf anderen Rechnern, leer für passive Sitzungen.
            *

              Einem Flag-Feld:
                  o

                    * für den Display, der zum anfragenden Socket gehört.
                  o

                    ! für Sitzungen, die vom anfragenden Socket nicht abgebrochen werden können.

        Zukünftig können hier weitere Felder hinzukommen.
    reserve [Wartezeit in Sekunden]

        Startet einen Reserver-Anmeldebildschirm. Wenn sich innerhalb der angegebenen Wartezeit (die Voreinstellung ist 1 Minute) niemand anmeldet, wird der Display wieder entfernt. Wenn die Sitzung auf diesem Display beendet wird, wird dieser ebenfalls wieder entfernt.

        Nur erlaubt bei Sockets für lokale Displays und den globalen Socket.
    activate (vt|display)

        Wechselt zu einem bestimmten VT. Das VT kann entweder direkt angegebenen werden (z. B. vt3) oder über den Display, auf dem es benutzt wird (z. B. :2).

        Nur erlaubt bei Sockets für lokale Displays und den globalen Socket.
    listbootoptions

        Zeigt alle verfügbaren Boot-Optionen an.
    shutdown (reboot | halt) [=bootchoice] (ask|trynow|forcenow|schedule|start (-1|end (force|forcemy|cancel))))

        Das System erhält die Aufforderung zum Herunterfahren, entweder als reboot oder halt/poweroff.

        Aus der Liste, die von listbootoptions zurückgegeben wird, kann das Betriebssystem für den nächsten Rechnerstart angegeben werden

        Anfragen zum Herunterfahren des Systems, die von display-spezifischen Sockets ausgehen, werden ausgeführt, sobald die Sitzung auf diesem Display beendet wird

        start gibt den Zeitpunkt an, an dem das Herunterfahren stattfinden soll. Beginnt dieser Wert mit einem Pluszeichen, wird die aktuelle Uhrzeit hinzuaddiert. Eine Null bedeutet "Sofort".

        end ist der späteste Zeitpunkt, an dem das Herunterfahren stattfinden soll, wenn noch aktive Sitzungen laufen. Beginnt der Wert mit einem Pluszeichen, wird die Startzeit aufaddiert. "-1" bedeutet, dass unbegrenzt gewartet wird. Wenn der Endzeitpunkt erreicht ist und immer noch aktive Sitzungen laufen, kann kdm eine der folgenden Aktionen durchführen:

            *

              cancel - das Herunterfahren wird nicht ausgeführt
            *

              force - das Herunterfahren wird trotzdem durchgeführt
            *

              forcemy - Das Herunterfahren wird trotzdem durchgeführt, wenn alle aktiven Sitzungen zu dem Benutzer gehören, der das Herunterfahren angefordert hat. Gültig nur für display-spezifische Sockets.

        start und end werden in Sekunden seit Beginn der UNIX®-Epoche angegeben.

        trynow is a synonym for 0 0 cancel, forcenow for 0 0 force and schedule for 0 -1.

        ask versucht ein sofortiges Herunterfahren und fragt beim Benutzer an, sofern noch aktive Sitzungen laufen. Gültig nur für display-spezifische Sockets.
    shutdown cancel [local|global}

        Ein geplantes Herunterfahren abbrechen. Der globale Socket bricht immer das gerade anstehende Herunterfahren ab, die display-spezifischen Sockets per Voreinstellung nur die von ihnen eingestellten Anfragen.
    shutdown status

        Zurückliefern einer Liste mit Informationen über Anforderungen zum Herunterfahren.

        Die Einträge sind durch Kommas getrennte Tupel von:

            *

              (global|local) - anstehende oder in der Warteschlange eingestellte Anfragen zum Herunterfahren. Ein lokaler Eintrag kann nur von einem display-spezifischen Socket zurückgeliefert werden.
            *

              (halt|reboot)
            *

              start
            *

              end
            *

              ("ask"|"force"|"forcemy"|"cancel")
            *

              Die numerische Benutzer-ID des anfragenden Benutzers, -1 für den globalen Socket.
            *

              Das als nächstes zu bootende Betriebssystem oder "-" für keines.

        Zukünftig können weitere Felder hinzukommen

Sockets können auf zwei Arten benutzt werden:

    *

      Direkte Verbindung. FifoDir wird als $DM_CONTROL exportiert; der Name von display-spezifischen Sockets kann aus $DISPLAY abgeleitet werden.
    *

      Durch Verwendung des Befehls kdmctl (z. B. aus einem Shell-Skript). Um mehr darüber zu erfahren, rufen Sie kdmctl-h auf.

Hier ist ein Beispiel für ein Bash-Skript ?reboot mit FreeBSD?:

if kdmctl | grep -q shutdown; then
  IFS=$'\t'
  set -- `kdmctl listbootoptions`
  if [ "$1" = ok ]; then
        fbsd=$(echo "$2" | tr ' ' '\n' | sed -ne 's,\\s, ,g;/freebsd/I{p;q}')
        if [ -n "$fbsd" ]; then
      kdmctl shutdown reboot "=$fbsd" ask > /dev/null
        else
          echo "FreeBSD boot unavailable."
        fi
  else
    echo "Boot options unavailable."
  fi
else
  echo "Cannot reboot system."
fi







Kapitel 10. Weiterführende Informationen

Da kdm von xdm abstammt, finden Sie in der Manual-Seite von xdm hilfreiche Hintergrundinformationen. Bei Problemen mit X sollten Sie die Manual-Seiten von X und startx lesen. Wenn Sie Fragen zu kdm haben, die dieses Handbuch nicht beantwortet, so nutzen Sie die Tatsache, dass kdm unter den Lizenzbedingungen von GNU entwickelt wurde: Schauen Sie direkt in den Quellcode. 








Kapitel 11. Mitwirkende und Lizenz

kdm stammt von xdm ab und enthält Code von diesem. (C) Keith Packard, MIT X Consortium.

kdm 0.1 wurde von Matthias Ettrich geschrieben. Spätere Versionen bis KDE 2.0.x wurden von Steffen Hansen erstellt. Einige neue Funktionen für KDE 2.1.x und eine Generalüberholung für KDE 2.2.x wurden von Oswald Buddenhagen durchgeführt.

Andere Teile des kdm-Codes gehören urheberrechtlich den Autoren und sind nach den Bedingungen der GNU GPL lizenziert. Jeder darf kdm ändern und das Ergebnis neu verteilen, solange die Namen der Autoren genannt werden.

kdm benötigt die Qt?-Bibliothek, für die Troll Tech AS das Copyright besitzt.

Mitwirkende an der Dokumentation:

    *

      Die Dokumentation wurde von Steffen Hansen (stefh AT dit.ou.dk) geschrieben.
    *

      Erweiterungen der Dokumentation wurden von Gregor Zumstein(zumstein AT ssd.ethz.ch) hinzugefügt. Letzte Änderung am 09.08.1998
    *

      Für KDE 2 wurde die Dokumentation von Neal Crook überarbeitet (nac AT forth.org). Letzte Änderung am 06.08.2000
    *

      Für KDE 2.2. wurde die Dokumentation von Oswald Buddenhagen (ossi AT kde.org) überarbeitet und erweitert. Letzte Änderung: August 2001

Copyright der Dokumentation Steffen Hansen, Gregor Zumstein, Neal Crook und Oswald Buddenhagen. Diese Dokument enthält auch große Teile der xdm-Manual-Seite, Copyright Keith Packard.

Diese Dokumentation ist unter den Bedingungen der GNU Free Documentation License veröffentlicht.

Dieses Programm ist unter den Bedingungen der GNU General Public License veröffentlicht.


-->
