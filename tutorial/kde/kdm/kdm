<?xml version="1.0" encoding="iso-8859-1"?>

<chapter>
 <title>Das Handbuch zu kdm</title>

 <author>
  <name></name>
  <mailto></mailto>
 </author>

 <layout>
  <name>Frank Börner</name>
  <mailto>f.boerner@selflinux.org</mailto>
 </layout>

 <license>
  GFDL
 </license>

 <index>kdm</index>

 <split>
  <section>
   <heading>
Einführung
   </heading>
   <textblock>
Der kdm ist eine graphische Schnittstelle, um sich beim System anzumelden. 
Durch Eingabe von Anmeldekennung und Passwort erfolgt eine Authentifizierung 
und kdm startet eine "Sitzung". kdm ist ein Ersatz für xdm, den X Display 
Manager und bietet diesem gegenüber einige Verbesserungen.
   </textblock>
  </section>
 </split>
 <split>
  <section>
   <heading>
Kurzanleitung
   </heading>
 </split>
</chapter>
<!--
Kapitel 1. Einführung





Kapitel 2. Kurzanleitung

Dies ist eine Kurzanleitung für Benutzer für die folgendes zutrifft:

    *

      X ist eingerichtet und kann mit dem Befehl startx von der Befehlszeile gestartet werden.
    *

      Typischerweise verwendet ein Benutzer nur einen einzigen Fenstermanager bzw eine einzige Desktopumgebung. Geändert wird sie nur selten, und nicht allen Benutzern fällt es leicht, dies über Editieren einer Konfigurationsdatei vorzunehmen.

Diese Einstellungen sind für viele Systeme ausreichend, bei denen ein einzelner Benutzer oder mehre Benutzer üblicherweise zunächst den Computer hochfahren und sich dann anmelden möchten.

Prozedur 2.1. Auswählen einer Standardsitzung

   1.

      Bearbeiten oder Anlegen der Datei ~/.xinitrc

      Falls Sie bereits über eine funktionierende ~/.xinitrc verfügen, können Sie diesen Schritt überspringen.
   2.

      Falls noch nicht vorhanden, fügen Sie ~/.xinitrc eine Zeile hinzu um Ihren Fenstermanager bzw Ihre Desktopumgebung zu starten.

      Für KDE sollten Sie folgendes eingeben:

startkde

      Für andere Fenstermanager und Desktopumgebungen sollten Sie das entsprechende Kommando in der jeweiligen Dokumentation finden.
   3.

      Richten Sie wie folgt einen Link ein:

ln -s ~/.xinitrc ~/.xsession

Wenn nun startx an der Kommandozeile eingegeben wird sollte X mit einer KDE-Sitzung starten. Als nächster Schritt wird kdm getestet.

Dazu sollte als Benutzerroot kdm an der Kommandozeile eingegeben werden.

Sie sollten nun ein Anmeldefenster sehen, das in Kapitel 3, Das Anmeldefenster beschrieben wird.

Wenn Sie nun Ihren Benutzernamen und Ihr Passwort in die dafür vorgesehenen Felder eingeben und Standard als Sitzungstyp auswählen dann sollten Sie eine KDE-Sitzung erhalten.

Falls Sie noch weiter Benutzer einrichten wollen sollten Sie die Prozedur, wie oben beschrieben, für jeden Benutzer wiederholen.
Anmerkung

Dies ist eine Kurzanleitung um kdm zum Laufen zu bringen. Sie werden wahrscheinlich darüberhinaus kdm weiter konfigurieren wollen. Zum Beispiel um die Namen von Systemkonten auszublenden, weitere Sitzungstypen einzurichten und vieles mehr. Bitte konsultieren Sie den Rest dieses Handbuchs für Informationen zu diesen Themen.





Kapitel 3. Das Anmeldefenster

Die Benutzung von kdm erfolgt über zwei Dialogboxen. Der Hauptdialog bietet folgende Funktionen:

    *

      Ein Eingabefeld Benutzername: um Ihre Anmeldekennung einzugeben.
    *

      Ein Eingabefeld Passwort: um Ihr Passwort einzugeben.
    *

      Ein Fenster mit Bildern der Benutzer (z. B. digitalisierten Photographien). Klickt man auf ein Bild, wird der Benutzername in das Benutzername:-Feld übertragen. (Diese Funktion ist der IRIX-Anmeldung nachgeahmt.)
    *

      Ein Auswahlfeld Sitzungsart: zur Wahl der gewünschten Sitzungsart. kdm kann eine Sitzung mit verschiedenen Fenstermanagern und Desktopumgebungen, die auf dem System installiert sind, starten.
    *

      (Optional) eine Region links von den Eingabefeldern, das benutzt werden kann, um ein Minibild oder eine Analoguhr darzustellen.
    *

      Einen Anmelden-Knopf,der die Kombination Benutzername und Passwort prüft und dann versucht, die gewählte Sitzung zu starten.
    *

      Einen Abbrechen-Knopf, der die Benutzername- und Passwort-Felder löscht.
    *

      (Optional) einen Beenden-Knopf, der das Beenden-Menü aufruft.
    *

      Ein Menü-Knopf, der ein Aktionsmenü mit den folgendenEinträgen öffnet:
          o

            (Für die Konsole) Eine Option X-Server neu starten die den derzeit laufenden X-Server beendet und neu startet. Das Anmeldungsfenster wird dann erneut aufgebaut. Das kann nützlich sein wenn die Bildschirmanzeige nicht korrekt erscheint.
          o

            (Für Fremdrechner) Eine Option Verbindung trennen die die Verbindung zum derzeit ausgewählten XDMCP Server auflöst. Falls die Verbindung mittels eines Host-Selektors aufgebaut wurde wird das Menü des Selektors wieder aufgebaut - ansonsten wird lediglich der X-Server neugestartet und das Anmeldungsfenster wird erneut aufgebaut.
          o

            (Optional an der Konsole) Eine Option Konsole Modus die den derzeit laufenden X-Server beendet und eine Anmeldung an der Befehlszeile präsentiert. kdm wird nach einiger Zeit wieder ein graphisches Anmeldefenster aufbauen wenn sich niemand an der Konsole angemeldet hat. Um das korrekt einzurichten muß der Ausdruck local@<console> in der Datei Xservers verwendet werden. (In dieser Datei finden sich auch Hinweise dazu.) 
    *

      (Optional) einen Beenden-Knopf, der das Beenden-Menü aufruft.

Das Beenden-Menü bietet die folgenden Optionen, von denen eine ausgewählt werden kann:

Beenden

    Fährt das System kontrolliert herunter, danach können Sie den Rechner ausschalten.
Neu starten

    Fährt das System herunter und führt einen Neustart durch. Für Systeme, die LILO benutzen, kann man in einem weiteren Kästchen wählen, mit welcher Boot-Option neu gestartet werden soll.
X Server neu starten

    Diese Option können Sie benutzen, wenn Sie Ihre X11-Einstellungen geändert haben.
Konsolen-Modus

    Hält den X-Server an und bringt das System in den Konsolen-Modus zurück. Das wird dadurch erreicht, dass das System auf den Runlevel 3 gebracht wird. Typischerweise benutzt der Systemadministrator diese Option, wenn er das System aktualisieren oder die X11-Einstellungen ändern will.

Ein Klick auf den OK-Knopf startet die gewählte Aktion; ein Klick auf den Abbrechen-Knopf schließt das Menü und kehrt zum kdm-Hauptmenü zurück. 















Kapitel 4. kdm einrichten

Inhaltsverzeichnis

Das KDE Anmeldungsmanager KControl-Modul

    Erscheinungsbild
    Schrift
    Hintergrund
    Sitzungen
    Benutzer
    Vereinfachung

In diesem Kapitel wird vorausgesetzt, dass kdm bereits installiert ist und auf Ihrem System läuft und dass Sie nur sein Verhalten ändern wollen.

Wenn kdm startet liest es zunächst die Konfigurationsdatei vom Ordner $KDEDIR/share/config/kdm/ (die Datei könnte auf Ihrem System auch unter /etc/kde2/kdm/ oder an einer anderen Stelle untergebracht sein).

Die wichtigste Konfigurationsdatei ist kdmrc - alle anderen Dateien werden von dieser Datei eingebunden und könnten im Prinzip an einer beliebigen Stelle im System untergebracht sein. Natürlich macht das in der Regel keinen Sinn. Eine Ausnahme davon wäre ein bereits installiertes xdm - tatsächlich werden bei der Installation eines neuen kdm automatisch xdm-Dateien gesucht und (falls vorhanden) verwendet.

Wenn kdm startet, liest es seine Einstellungen aus der Datei kdmrc. Weil kdm laufen muss, bevor ein Benutzer angemeldet ist, ist diese Datei keinem besonderen Benutzer zugeordnet. Deshalb gibt es auch keine benutzerspezifische Datei $HOME/share/config/kdmrc; alle Benutzer teilen sich die gemeinsame Version von kdmrc. Daraus folgt dass die kdm-Einrichtung nur von jemandem geändert werden kann, der für $KDEDIR/share/config/kdmrc Schreibrechte hat (das ist normalerweise der Systemadministrator, der als root angemeldet ist).

Sie können sich die Datei kdmrc, die von Ihrem System verwendet wird, anschauen, und Sie können kdm einrichten, indem Sie diese Datei anpassen. Oder Sie benutzen im KDE Kontrollzentrum das Menü System->Anmeldungsmanager , das in den Hilfedateien für KControl beschrieben ist.

Der Rest diese Kapitels beschreibt die Einrichtung von kdm mittels des KControl-Moduls - das nächste Kapitel beschreibt die Optionen die in kdmrc verfügbar sind. Falls Sie nur lokale Benutzer einrichten müssen sollte das KControl-Modul Ihren Anforderungen genügen. Müssen Sie jedoch Remote-Anmeldungen einrichten, oder gleichzeitig mehrere kdm-Sitzungen betreiben - so sollten Sie hier weiterlesen.
Das KDE Anmeldungsmanager KControl-Modul

Thomas Tanghus

Steffen Hansen

Mike McBride

Mittels diese Moduls können Sie den KDE Anmeldungsmanager kdm einrichten. Sie können einstellen wie das Anmeldungsfenster aussieht, wer den Anmeldungsmanager benutzen kann und wer den Computer herunterfahren kann.
Anmerkung

Alle Einstellungen werden in die Konfigurationsdatei kdmrc geschrieben. In ihrem Urzustand enthält sie zahlreiche Kommentare die bei der Konfiguration von kdm nützlich sind. Die Verwendung des KControl-Moduls wird diese Kommentare allerdings überschreiben. Alle verfügbaren Einstellungen in kdmrc sind in kdmrc(5) beschrieben.

Die Einstellungen die in diesem Kapitel aufgeführt sind, sind mit Verweisen zu den zugehörigen Einträgen in kdmrc versehen. Alle Einstellungen die im KControl-Modul zur Verfügung stehen sind auch in kdmrc vorhanden - umgekehrt gilt das allerdings nicht.

Um diese Einstellungen übersichtlich zu gestalten ist das Modul in fünf Abschnitte gegliedert:Erscheinungsbild, Schrift, Hintergrund, Sitzungen, Benutzer und Vereinfachungen.

Sie können zwischen diesen Abschnitten, mit Hilfe der Reiter am oberen Rand des Fensters, umschalten.
Anmerkung

Falls Sie nicht bereits als Systemverwalter root angemeldet sind, müssen Sie auf den Systemverwaltungsmodus-Knopf klicken. Sie werden dann nach dem Systemverwaltungs-Passworts (Root-Passwort) gefragt. Nach Eingabe des korrekten Passworts können Sie die Einstellungen dieses Moduls verändern.
Erscheinungsbild

Auf dieser Seite kann das Erscheinungsbild von kdm, KDEs Anmeldungs-Managers festgelegt werden.

Der Begrüßungstext ist der Titel des Anmeldungsfensters. Enthält der Text das Wort HOSTNAME so wird es, durch den Namen des Computers auf dem kdm installiert ist, ersetzt. Diese Einstellung läßt sich auch über die OptionGreetString in kdmrc vornehmen.

Sie können dann auswählen ob die aktuelle Systemzeit, ein Logo oder gar nichts im Anmeldefenster angezeigt wird. Auswählen können Sie diese Optionen im Logo-Bereich. Mit der Position-Einstellung können Sie den Inhalt des Logo-Bereichs zentrieren oder auf feste Koordinaten einstellen. Das entspricht der Einstellung Logo-Bereich in kdmrc

Wenn Sie Logo anzeigen einstellen können Sie nun ein Logo auswählen:

    *

      Ziehen Sie eine Bilddatei auf den Bildknopf.
    *

      Klicken Sie auf den Bildknopf und wählen Sie ein Bild mittels des Auswahldialogs.

Wenn Sie kein Logo auswählen wird das Standardlogo $KDEDIR/share/apps/kdm/pics/kdelogo.xpm angezeigt.

Normallerweise wird das Anmeldefenster in der Mitte des Bildschirms angezeigt. Mit der Position-Einstellung kann es an beliebiger Stelle plaziert werden. Standard ist Zentriert. Falls stattdessen Benutzerdefiniert gewünscht wird, läßt sich, mit den Feldern X und Y, genau angeben wo die linke obere Ecke des Anmeldefensters plaziert wird. Das entspricht den Einträgen GreeterPosFixed, GreeterPosX und GreeterPosY in kdmrc.

KDEs Erscheinungsbild hängt in erster Linie von den Einstellungen des angemeldeten Benutzers ab. Das Erscheinungsbild von kdm dagegen kann mittels der Einstellungen GUI Stil und Oberflächenstil bestimmt werden.Das entspricht den Einträgen GUIStyle und ColorScheme in kdmrc.

Darunter können Sie die Spracheinstellungen für das Anmeldefenster vornehmen. Das entspricht der Option Language in kdmrc.
Schrift

In diesem Bereich können die Schriftarten des Anmeldefensters eingestellt werden.

Dabei sind drei Schriftarten einstellbar (Begrüßung, Fehler und Normal). Wenn Sie auf den Knopf Schriftart ändern... klicken, dann erscheint ein Dialogfenster in dem die Eigenschaften der Schriftart bestimmt werden können.

    *

      Die Schriftart Begrüßung wird für den Titel (Begrüßungsstring) verwendet.
    *

      Die Schriftart Fehler wird verwendet wenn eine Anmeldung fehlschlägt.
    *

      Die Schriftart Standard wird überall sonst im Anmeldefenster verwendet. 

Ein Beispieltext für die jeweilige Schriftart wird im Beispiel-Feld angezeigt.
Hintergrund

Hier können Sie den Desktop-Hintergrund einstellen, der beim Anmelden angezeigt wird. Dabei kann sowohl eine einzelne Farbe als auch ein Bild verwendet werden. Falls Sie ein Bild verwenden das kleiner ist als der Desktop und Zentrieren auswählen, so wird um das Bild herum die gewählte Hintergrundfarbe angezeigt.

Die Hintergrundfarben und -effekte werden von den Optionen des Reiters Hintergrund bestimmt. Ein Hintergrundbild und die Plazierung des Hintergrundbild werden mit den Optionen des Reiters Hintergrundbild ausgewählt.

Um die Standardfarbe(n) zu ändern klicken Sie einfach auf die Farbknöpfe und wählen Sie eine neue Farbe aus.

Das Auswahlmenü über den Farbknöpfen bietet verschiedene Verlaufs-Modi. Wenn Sie einen dieser Modi selektieren wird der Effekt auf dem kleinen Monitor im oberen Fensterbereich angezeigt. Ihre Modi sind:

Durchgehend

    Wenn Sie diesen Modus wählen wird nur eine einzige Farbe (über den Knopf Farbe 1 bestimmt) verwendet, und der gesamte Hintergrund besteht nur aus dieser Farbe.
Muster

    Bei diesem Modus werden zwei Farben verwendet (mit den beiden Farbknöpfen bestimmt).

    Danach läßt sich mit Einrichtung... ein Muster auswählen. Dazu wird ein neues Dialogfenster geöffnet - selektieren Sie einfach ein Muster und klicken sie auf OK. KDE wird dann das Muster mit den von Ihnen bestimmten Farben generieren. Weitere Informationen finden Sie im Kapitel Hintergrund: Hinzufügen, Löschen und Verändern von Mustern.
Hintergrund-Programm

    Bei dieser Einstellung ruft KDE ein externes Programm zur Generierung des Hintergrunds auf. Dabei können Sie ein beliebiges Programm verwenden - Genaueres findet sich im Kapitel Hintergrund: Verwendung eines externen Programms.
Waagrechter Verlauf

    Mit diesem Modus werden zwei Farben verwendet (über die beiden Farbknöpfe bestimmt) KDE generiert dann den Hintergrund: An der linken Bildschirmkante von Farbe 1 ausgehend und langsam in Farbe 2 übergehend - die dann an der rechten Kante erreicht wird. 
Senkrechte Verlauf

    Mit diesem Modus werden zwei Farben verwendet (über die beiden Farbknöpfe bestimmt) KDE generiert dann den Hintergrund: An der oberen Bildschirmkante von Farbe 1 ausgehend und langsam in Farbe 2 übergehend - die dann an der unteren Kante erreicht wird. 
Pyramidialer Verlauf

    Mit diesem Modus werden zwei Farben verwendet (über die beiden Farbknöpfe bestimmt) KDE generiert dann den Hintergrund: Von allen vier Ecken des Bildschirms von Farbe 1 ausgehend und langsam in Farbe 2 übergehend - die dann in der Bildschirmmitte erreicht wird. 
Röhrenkreuz-Verlauf

    Mit diesem Modus werden zwei Farben verwendet (über die beiden Farbknöpfe bestimmt) KDE generiert dann den Hintergrund: Von allen vier Ecken des Bildschirms von Farbe 1 ausgehend und langsam in Farbe 2 übergehend - die dann in der Bildschirmmitte erreicht wird. Der ?Verlauf? unterscheidet sich dabei aber vom Pyramidialen Verlauf.
Elliptischer Verlauf

    Mit diesem Modus werden zwei Farben verwendet (über die beiden Farbknöpfe bestimmt) KDE generiert dann den Hintergrund: Von der Mitte des Bildschirms vonFarbe 1 ausgehend und langsam in Farbe 2 übergehend - die dann in den Bildschirmecken erreicht wird. Dabei wird ein elliptisches Muster erzeugt.

Der Knopf Einrichtung... wird nur benötigt wenn Sie die Modi Hintergrund-Programm oder Muster wählen. In diesen Fällen ist der Knopf aktiv und kann zum Einstellen der Parameter verwendet werden.

Hintergrundbild

Um ein neues Hintergrundbild auszuwählen klicken Sie auf den Reiter Hintergrundbild dann läßt sich eines der Bilder ausder Liste Hintergrundbild auswählen. Alternativ können Sie mit dem Knopf Auswählen... ein beliebiges Bild verwenden.

Das Bild kann auf sechs verschieden Weisen angezeigt werden:

Kein Hintergrundbild

    Es wird kein Bild sondern die Hintergrundfarben angezeigt.
Zentriert

    Das Bild wird auf dem Bildschirm zentriert angezeigt. Die Hintergrundfarben sind dort sichtbar wo das Bild den Bildschirm nicht bedeckt.
Gekachelt

    Das Bild wird so oft dupliziert bis der gesammte Desktop bedeckt ist. Das erste Bild wird dabei in der linken oberen Ecke des Bildschirms plaziert, danach nach unten und nach rechts erneut angefügt.
Zentrierte Kacheln

    Das Bild wird so oft dupliziert bis der gesammte Desktop bedeckt ist. Das erste Bild wird dabei in der Mitte des Bildschirms plaziert, danach nach Oben, Unten, Links und Rechts erneut angefügt.
Zentrierte Maximalausdehnung

    Das Bild wird in der Mitte des Bildschirms plaziert. Es wird skaliert um den Desktop zu füllen, aber das Seitenverhältnis bleibt erhalten. Dadurch wird das Bild nicht verzerrt. 
Skaliert

    Das Bild wird wird skaliert um den Desktop zu füllen. Es wird so aufgezogen dass alle vier Ecken bedeckt werden.

Sitzungen

Herunterfahren erlauben

Über diese Liste können sie festlegen wer das System herunterfahren kann.

    *

      Niemand: Niemand kann das System mit kdm herunterfahren. Sie müssen angemeldet sein und einen entsprechenden Befehl eingeben.
    *

      Alle: Jeder kann das System mit kdm herunterfahren.
    *

      Nur Systemverwalter: kdm erfordert dass das root-Passwort eingegeben wird bevor System heruntergefahren werden kann.

Diese Einstellungen können separat für Benutzer der Konsole und für Benutzer die über einen Fremdrechner angemeldet sind, vorgenommen werden.

Befehle

Mit diesen drei Feldern können Sie die Befehle zum Herunterfahren spezifizieren.

Die Voreinstellung für den Befehl Halt ist:

/sbin/shutdown

Die Voreinstellung für den Befehl Neustart ist:

/sbin/reboot

Wenn Boot-Optionen anzeigen aktiviert ist wird kdm beim Neustart Optionen für den LILO-Bootmanager abfragen. Damit dies richtig funktioniert müssen die korrekten Pfadnamen für den lilo-Befehl und für die LILO-Mapping-Datei eingetragen werden.
Art der Sitzung

Hier können Sie festlegen welche Sitzungstypen im Anmeldefenster auswählbar sein sollen.

Weiterführende Informationen finden sich in den xdm-Konfigurationsdateien im Ordner /etc/X11/xdm/Xsession. Außerdem in den xdm Manual-Seiten, besonders im Abschnitt SESSION PROGRAM.

Zum Hinzufügen eines Typs geben Sie ihren Namen in Feld Neuer Typ ein und klicken Sie auf Hinzufügen.

Um einen Typ zu entfernen selektieren Sie ihn in der Liste und klicken Sie auf Entfernen.
Benutzer

Hier können Sie einstellen wie die Benutzer im Anmeldungsfenster dargestellt werden.

Sie können die Benutzerliste im Abschnitt Benutzer anzeigen von kdm ganz ausblenden. Sie haben folgende Wahlmöglichkeiten:

Keine

    Gar keine Benutzer anzeigen. Das ist die sicherste Einstellung da ein Angreifer einen gültigen Benutzernamen und ein gültiges Passwort finden müßte. Außerdem ist es eine gute Einstellung wenn Sie zahlreiche Benutzer auf diesem System haben - die Liste kann sonst unübersichtlich werden.
Nur ausgewählte

    Nur speziell ausgewählte Benutzer werden angezeigt.
Nicht versteckt

    Diese Einstellung erlaubt es aus einer Liste auszuwählen welche Benutzer nicht angezeigt werden sollen.

Unabhängig von den namentlich gelisteten Benutzern können Sie einen Bereich der numerischen Benutzerkennungen (UIDs) festlegen der nicht in der Liste angezeigt werde soll. Die Voreinstellung schließt UIDs unterhalb von 1000 aus, da diese häufig Dämonen oder Systemdienste sind. Gleichfalls werden UIDs größer als 65000 nicht angezeigt.

Sie können auch die Option Benutze sortieren ankreuzen um die Benutzer in alphabetischer Ordnung anzuzeigen. Ist das nicht aktiviert, dann werden die Benutzer in der Reihenfolge angezeigt in der sie in der Passwortdatei stehen.

Wenn Sie sich entscheiden Benutzer anzuzeigen dann wird das Anmeldungsfenster (wählbare) Bilder, für die Benutzer auf der Liste, anzeigen. Wenn sich jemand anmelden will können er seinen Benutzername bzw sein Bild anklicken, sein Passwort eingeben und erhält dann eine Sitzung.

Wenn Sie Benutzerbilder zulassen, dann können Sie die Quelle für diese Bilder einstellen.

Die verfügbaren Einstellung für die Bildquelle sind:

Sie können hier das Admin-Bild für jeden Benutzer im System einstellen. Abhängend von der oben getroffenen Auswahl können die Benutzer für sich stattdessen ein anderes Bild wählen.

Wenn Sie die Benutzerliste nicht anzeigen dann ist das Erscheinungsbild des Anmeldefensters eher traditionell. Benutzer müssen ihren Benutzernamen und ihr Passwort eingeben um eine Sitzung zu erhalten. Bei sehr vielen Benutzern wird diese Option empfohlen.
Um Benutzer anzuzeigen und zu sortieren oder um sie nicht anzuzeigen

An der rechten Kante des Fensters befinden sich zwei Kästchen:

Wenn Benutzer anzeigen angekreuzt wird, dann werden Benutzer-Bilder angezeigt. Der Benutzer kann sein Bild anklicken statt seinen Benutzernamen einzugeben.

Wenn Benutzer sortieren angekreuzt wird, dann wird die Liste der Benutzer alphabetisch sortiert im Anmeldungsfenster angezeigt. Wenn das Kästchen nicht angekreuzt wird stehen sie dort in der gleichen Reihenfolge wie auf dieser Seite angezeigt. Diese Kästchen hat keinen Effekt wenn Benutzer anzeigen nicht aktiviert ist.
Bestimmen welche Benutzer anzuzeigen bzw zu verstecken sind

Unterhalb des Benutzerbilds und über dem Abschnitt Benutzer anzeigen finden sich zwei Sätze von Auswahlfeldern:

    *

      Nur ausgewählte Benutzer anzeigen: Wenn diese Einstellung aktiviert ist werden nur Benutzer in der Liste Ausgewählte Benutzer im Anmeldungsfenster angezeigt. Falls Benutzer anzeigen deaktiviert ist, hat diese Einstellung keinen Effekt.
    *

      Alle Benutzer außer den versteckten Benutzern anzeigen: Wenn diese Option gewählt wird werden alle Benutzer angezeigt außer denen die sich in der Liste Versteckte Benutzerkennungen befinden. Falls Benutzer anzeigen deaktiviert ist, hat diese Einstellung keinen Effekt. 

Benutzer auswählen

Diese Seite enthält drei Auswahllisten. Die größere auf der linken Seite zeigt alle Benutzer des Systems die richtige Benutzer sein könnten.

Die Auswahlliste oben rechts zeigt die ausgewählten Benutzer und die unten rechts die Benutzer die nicht im Anmeldefenster angezeigt werden sollen.

Um einen Benutzer von einer Liste in die andere zu verschieben selektieren Sie zunächst die Benutzerkennung in der Liste und klicken Sie dann auf >> um den Benutzer von linken in die rechte bzw << um den Benutzer von der rechten in die linke Liste zu verschieben.
Bilder
Anmerkung

Dieser Abschnitt des Handbuchs ist nur relevant wenn die Option Benutzer anzeigen aktiviert ist. Sonst hat der Bildknopf keinen Effekt.

Jeder Benutzer des Systems kann durch ein Bild repräsentiert werden. Das Bild des Benutzers wird in einer Datei $KDEDIR/share/apps/kdm/pics/users/$USER.xpm. abgelegt. Hat der Benutzer keine solche Datei, so wird stattdessen die Datei $KDEDIR/share/apps/kdm/pics/users/default.xpm verwendet.

Um einem Benutzer neues Bild zuzuweisen wählen Sie einen Benutzer in einer der Liste aus und ziehen Sie eine Bilddatei auf den Bildknopf rechts davon. Sie können auch auf den Bildknopf klicken und dann ein Bild auswählen.

Ist kein Benutzer selektiert, so werden sie gefragt ob sie das Standardbild ersetzen wollen.

Das Ersetzen erfolgt über einen Konqueror-Prozeß. Falls die Bilddatei bereits existiert wird Sie Konqueror fragen ob Sie sie überschreiben wollen. Wenn Sie das bestätigen wird das Bild ersetzt. Dazu muß NICHT der Anwenden-Knopf gerückt werden.
Vereinfachung

Im Reiter Vereinfachung können Sie Ihr Leben einfacher gestalten. Hier läßt sich die automatische Anmeldung einstellen und hier können Passwörter abgeschaltet werden.
Wichtig

Diese Einstellungen sollte man sich genau überlegen. Alle Optionen im ReiterVereinfachung können die Sicherheit Ihres Systems schwer beeinträchtigen. Im Normalfall sollten diese Optionen nur in einer absolut unkritischen Umgebung benutzt werden - z.B. bei einem Privatcomputer Zuhause.
Automatische Anmeldung

Automatische Anmeldung ermöglicht jedem Zugang zu einem bestimmten Benutzerkonto auf Ihrem System - ohne irgendeine Überprüfung. Dies kann über die Option Automatische Anmeldung erlauben eingeschaltet werden.

Das dafür zugelassen Benutzerkonto können sie aus der Liste Benutzer:auswählen.
Anmeldung ohne Passwort

Mit dieser Option können sich bestimmte Benutzer ohne Passwort anmelden. Diese Funktion wird über Anmeldung ohne Passwort zulassen aktiviert.

Unterhalb dieser Einstellung sehen Sie eine Liste mit Benutzern des Systems. Benutzer die sich ohne Passwort anmelden können, können dort angekreuzt werden. In Normaleinstellung ist keiner der Benutzer angekreuzt.
Wichtig

Wie gesagt, sollte diese Option nur in einer sicheren Umgebung verwendet werden. Wird sie in einem eher öffentlich zugänglichen System verwendet, dann sollten Sie sicherstellen dass sie nur bei Benutzerkonten mit niedrig gesetzten Zugriffsrechten eingesetzt wird - z.B. beim Konto guest.

Die Option Nach Absturz des X-Servers automatisch wieder anmelden überspringt die Anmeldeprozedur falls ihr X-Server unbeabsichtigt abstürzt.

Sie können auch auswählen welcher Benutzer beim Start von kdm zunächst ?vorgeschlagen? wird. Als Voreinstellung steht Keine.Die Option Voriger schlägt automatisch den bei der letzten erfolgreichen Anmeldung verwendeten Namen vor. Es ist auch möglich immer einen bestimmten Benutzer vorzuschlagen. Zusätzlich kann kdm den Cursor in das Passwort-Feld setzen - dann können Sie bei Anzeige des Anmeldefensters sofort Ihr Passwort eingeben.












Kapitel 5. Die kdm Konfigurationsdateien

Inhaltsverzeichnis

kdmrc - The kdm Configuration File

Diese Kapitel dokumentiert die Dateien die das Verhalten von kdm kontrollieren. Die meisten (aber nicht alle) Funktionen lassen sich auch über das KControl-Modul einstellen.

Die Files die unter Umständen editiert werden müssen, sind:

kdmrc

    Die Haupt-Konfigurationsdatei von kdm








Name

kdmrc ? The kdm Configuration File
kdmrc General Comments

The basic format of the file is ?INI-like?. Options or ?keys? have a name and a value, separated by a =, placed in sections. Keys are only valid in the sections they are defined for, and will not be applied (and a non-fatal error reported) if they are placed incorrectly. Some keys don't apply to particular displays, in which case they are ignored.

The format for all keys are key=value. Key names are case sensitive. Sections are denoted by [Name of Section]. Lines beginning with # are comments.

You can configure every X-display individually.

Every display has a display name, which consists of a host name (which is empty for local displays specified in the Xservers file), a colon and a display number. Additionally, a display belongs to a display class (which can be ignored in most cases; the control center does not support this feature at all).

Sections with display-specific settings have the formal syntax ?[X-" host [":" number [ "_" class ]] "-" sub-section "]?

You can use the * wildcard for host, number and class. You may omit trailing components; they are assumed to be ?*? then. The host part may be a domain specification like ?.inf.tu-dresden.de?.

From which section a setting is actually taken is determined by these rules:

An exact match takes precedence over a partial match (for the host part), which in turn takes precedence over a wildcard.

Precedence decreases from left to right for equally exact matches

Example: display name "myhost:0", class "dpy"

    *

      [X-myhost:0_dpy] precedes
    *

      [X-myhost:0_*] (same as [X-myhost:0]) precedes
    *

      [X-myhost:*_dpy] precedes
    *

      [X-myhost:*_*] (same as [X-myhost]) precedes
    *

      [X-*:0_dpy] precedes
    *

      [X-*:0_*] (same as [X-*:0]) precedes
    *

      [X-*:*_*] (same as [X-*])

These sections do NOT match this display:

[X-hishost], [X-myhost:0_dec], [X-*:1], [X-:*]

If a setting is not found in any matching section, the default is used.
Anmerkung

The kdmrc is very thoroughly commented, and this documentation is based on those comments. Every comment applies to the following section or key.

All comments will be lost if you change this file with the kcontrol frontend. The defaults refer to kdm's built-in values. Values set in kdmrc override the defaults, you do not need to set every key if those defaults already suit you.
General

The [General] section contains most of the global options, and will apply to every instance of kdm and every display.

Xservers

    If the value starts with a slash (/, this key specifies the file where X-Servers to be used by kdm are listed. The file is in the usual xdm Xservers format. If the value does not start with a slash, this key is interpreted as if it were a singleline of the Xservers file, i.e. it specifies exactly one X-server.

    The default value is :0 local /usr/X11R6/bin/X

    During installation, kdm will try to fill in the path to an existing Xservers file if it can find one.
PidFile

    Where kdm should store it's PID. The default is to leave this key empty, which means ?don't store?. You might want to set instead a full path, for example /var/run/xdm.pid so that you can check with a script if kdm is running or not.
LockPidFile

    Whether kdm should lock the PID file to prevent having multiple kdm instances running at once. Leave it to ?true?, unless you are brave. This will have no effect unless you set the PidFile first.
AuthDir

    Where to store authorization files. The default is /var/run/xauth.
AutoRescan

    Whether kdm should automatically re-read configuration files, if it finds they have changed. The default is ?true?, and you should probably not need to change it.
ExportList

    Additional environment variables kdm should pass to kdm_config, kdm_greet, Xsetup, Xstartup, Xsession and Xreset.

    A good candidate is LD_LIBRARY_PATH. The format is:

ExportList=SOME_VAR,ANOTHER_IMPORTANT_VAR

RandomFile

    Where kdm should fetch entropy from. The default is /dev/mem. You should not need to change this.
FifoDir

    Where the command FiFos should be created. Make it empty to disable the FiFos. The default is /var/run/xdmctl
FifoGroup

    To which group the command FiFos should belong. The default is -1, effectively root.
ConfigVersion

    This option exists solely for the purpose of clean automatic upgrades. Do not change it, you may interfere with future upgrades and this could result in kdm failing to run.

Xdmcp

This section configures remote logins via the XDMCP.

Keys for the [Xdmcp] Section of kdmrc

Enable

    Whether kdm should listen to XDMCP requests. The default is true
Port

    The UDP port kdm should listen on for XDMCP requests. The default is 177 and this should not be changed.
KeyFile

    File with the private keys of X-terminals. Required for xdm authentication. The default is to leave this key empty.
Xaccess

    XDMCP access control file, in the usual xdm Xaccess format.

    The default is a file named Xaccess in the same folder as kdmrc. You could put the path to your working xdm Xaccess file here.
ChoiceTimeout

    Number of seconds to wait for display to respond after the user has selected a host from the chooser. The default value is 15
RemoveDomainname

    Strip the domain name from the remote display names, if it is equal to the local domain. The default is true.
SourceAddress

    Use the numeric IP address of the incoming connection instead of the host name. Use this on multihomed hosts. The default is false.
Willing

    The program which is invoked to dynamically generate replies to XDMCP Broadcast query requests.

    By default, no program is invoked, and ?Willing to manage? is sent in reply.

    You could put a path here to an existing Xwilling if you have already configured one.

Shutdown

Keys for the [Shutdown] Section of kdmrc

HaltCmd

    The command to run to halt the system. The default is /sbin/shutdown -h now
RebootCmd

    The command to run to reboot the system. The default is /sbin/shutdown -r now
AllowFifo

    Whether one can shut down the system via the global command FiFo

    The default is False.
AllowFifoNow

    Whether one can abort still running sessions when shutting down the system via the global command FiFo.

    The default is true.

    This will have no effect unless you previously set the key AllowFifo.

X-*-Core

Core configuration for all displays. Times are specified in seconds unless noted otherwise.

Some rough estimations how many seconds kdm will spend at most performing certain actions:

Opening a connection to the X-Server (OpenTime)

    OpenRepeat * (OpenTimeout + OpenDelay)
Starting a local X-Server (ServerTime)

    ServerAttempts * ServerTimeout
Starting a local display

    StartAttempts * (ServerTime + OpenTime)
Starting a remote display

    StartAttempts * OpenTime

Keys for the [X-*-Core] Section of kdmrc

OpenDelay

    How long to wait after various errors before retrying to start the display. The default is 15.
OpenTimeout

    How long to wait before timing out XOpenDisplay. The default is 120.
OpenRepeat

    How often to try the XOpenDisplay. The default is 5.
StartAttempts

    Try at most this many times to start a display. If this fails, the display is disabled. The default is 4.
StartInterval

    The StartAttempt counter is reset after this many seconds. The default is 30.
PingInterval

    Ping the remote display every this many minutes. The default is 5
PingTimeout

    Wait this long for a reply to a ping. The default is 5.
TerminateServer

    Restart instead of resetting the local X-Server after session exit. Use this if you find that the server is leaking memory or otherwise not releasing resources. The default is False.
ResetSignal

    The signal needed to reset the local X-Server. The default is 1 which is SIGHUP.
TermSignal

    The signal needed to terminate the local X-Server. The default is 15 which is SIGTERM.
ResetForAuth

    Set if necessary to reset the X-Server to make it read the initial Xauth file.

    The default is false
Authorize

    Create X-authorizations for local displays. The default is true.
AuthName

    Which X-authorization mechanisms should be used.

    The default is XDM-AUTHORIZATION-1,MIT-MAGIC-COOKIE-1 and you should be very careful changing this unless you are sure you know what you are doing.
AuthFile

    The name of this X-Server's Xauth file. The default is to leave this key empty, which means that a random name in the AuthDir will be used.
Resources

    Specify a file with X-resources for the greeter, chooser, and background. The KDE frontend doesn't take any notice of this, so you don't need it unless you use an alternative chooser, or another background generator than kdmdesktop
Xrdb

    The xrdb program to use to read the above specified resources. The default is /usr/X11R6/bin/xrdb.
Setup

    A program to run before the greeter is shown. You should start kdmdesktop there. Also, xconsole can be started by this script. The default is to leave this key empty.
Startup

    A program to run before a user session starts. You should invoke sessreg there, and optionally change the ownership of the console etc..
Reset

    A program to run after a user session exits. You should invoke sessreg there and optionally change the ownership of the console, etc..
Session

    The program which is run as the user which logs in. It is supposed to interpret the session argument (see SessionTypes) and start an appropriate session according to it.

    The default is /usr/X11R6/bin/xterm -ls -T, but if kdm can locate an already configured Xsession file during installation, the path to this will be filled in instead.
FailsafeClient

    The program to run if Session fails.

    The default is /usr/X11R6/bin/xterm.
UserPath

    The PATH for the Session program. The default is /bin:/usr/bin:/usr/X11R6/bin:/usr/local/bin
SystemPath

    The path for Setup, Startup and Reset, etc..

    The default is /sbin:/usr/sbin:/bin:/usr/bin:/usr/X11R6/bin:/usr/local/bin.
SystemShell

    The default system shell. The default is /bin/sh
UserAuthDir

    Where to put the user's X-Server authorization file if ~/.Xauthority cannot be created. The default is /tmp.
AutoReLogin

    If true, kdm will automatically restart a session after an X-Server crash, or if it is killed by Ctrl+Alt+Delete. The default is false.
    Anmerkung

    Enabling this opens a security hole: a secured display lock can be circumvented, unless you are using KDE's built-in screen lock.
AllowRootLogin

    Allow root logins. The default is true.
AllowNullPasswd

    Allow to log in when the user has an empty password. Default is true.
AllowShutdown

    Who is allowed to shut down the system. This applies both to the greeter and to the command FiFo. The default is All.

    Possible values are:

    None

        No Shutdown... button is shown at all.
    Root

        The root password must be entered to shut down.
    All

        Everybody can shut down the machine.

AllowSdForceNow

    Who is allowed to abort all still running sessions when shutting down. The possible values are the same as for AllowShutdown, and the default is All
DefaultSdMode

    The default choice for shutdown condition/timing.

    Possible values are:

    Schedule

        Shutdown after all sessions exit (possibly at once.) This is the default.
    TryNow

        Shutdown, if no sessions are open, otherwise do nothing.
    ForceNow

        Shutdown unconditionally.

InteractiveSd

    If this is false, the user must select the shutdown condition/timing directly in the shutdown dialog. If this is true, he won't be shown the options but will be asked what to do if any sessions are actually open. The default is true.
    Anmerkung

    The interaction is currently not implemented. If this is set to true, a normal forced shutdown will happen, ignoring the value of the AllowSdForceNow option!
SessSaveFile

    Where, relative to the user's home folder, to store the last selected session. The default is .wmrc.

X-*-Greeter

Greeter configuration for all displays.

Keys for the [X-*-Greeter] section of kdmrc

SessionTypes

    Session types the users can select. It is advisable to have default and failsafe listed here (this is the default)
GUIStyle

    Widget style of the greeter. Available are Default, Windows, Platinum, Motif, MotifPlus, CDE, SGI and any other styles you have installed, such as Keramik or HighColor.

    The default is Default.
ColorScheme

    Color scheme of the greeter. The default is Default. Any color scheme you have installed, such as Pumpkin can be used here.
LogoArea

    What should be shown beside the input lines.

    The available values are:

    Logo

        The image specified by LogoPixmap. This is the default
    Clock

        An analog clock
    None

        Nothing

LogoPixmap

    The image to show when LogoArea=Logo. Default is kdelogo.png. 
GreeterPosFixed, GreeterPosX, GreeterPosY,

    Normally the greeter is centered on the screen. Use these options of you want it to appear elsewhere on the screen. The default is for GreeterPosFixed to be set to false, in which case setting the other two options will have no effect.
GreetString

    The headline in the greeter.

    The following characters are replaced by their value:

    %d

        Current display.
    %h

        host name, possibly with the domain name.
    %n

        Node name, most probably the host name without the domain name.
    %s

        The operating system
    %r

        The operating system version
    %m

        The machine (hardware) type
    %%

        A single %

    The default string is Welcome to %s at %n.
GreetFont

    The font for the headline. The default is charter,24,bold
StdFont

    The normal font used in the greeter. The default is helvetica,12.
FailFont

    The font used for the Login Failed message. Default is helvetica,12,bold.
AntiAliasing

    Whether the fonts shown in the greeter should be antialiased. The default is false
NumLock

    What to do with the Num Lock modifier for the time the greeter is running.

    On

        Turn on Num Lock
    Off

        Turn off Num Lock
    Keep

        Don't change the state (this is the default.)

Language

    Language to use in the greeter. The default is en_US.
ShowUsers

    Specify which user names (and pictures) should be shown in the greeter.

    Available values are:

    NotHidden

        All users except those listed in HiddenUsers. This is the default.
    Selected

        Only the users listed in SelectedUsers
    None

        No user list will be shown at all. Users must type in a correct login name.

SelectedUsers

    Only takes effect if ShowUsers is set to Selected. Make a comma separated list of usernames to show here.
HiddenUsers

    Only takes effect if ShowUsers is set to NotHidden. Make a comma separated list of usernames to hide here.
MinShowID

    This is a special case for HiddenUsers. In addition to usernames specified there, users with a UID less than this number (other than root will also be hidden. The default is 0.
MaxShowID

    Complement to MinShowID. Users will a UID greater than this number will be hidden as well. The default is 65535.
SortUsers

    If false, the users are listed in the order they appear in /etc/passwd. If true, they are sorted alphabetically. The default is true.
FaceSource

    Specify where the users' pictures should be taken from. Available values are:

    AdminOnly

        From $KDEDIR/share/apps/kdm/pics/users/$USER.png. This is the default.
    UserOnly

        From the user's $HOME/.face.
    PreferAdmin

        Prefer $USER.png, fall back on $HOME/.face.
    PreferUser

        The other way around.

PreselectUser

    Specify if, and if so, which, user should be preselected for login.
    Anmerkung

    Enabling this feature may be considered a security hole, since it presents a known to be valid login name to a potential attacker, so he ?only? needs to guess the password.

    Available values are:

    None

        Don't preselect any user. This is the default.
    Previous

        The user that successfully logged in last.
    Default

        The user specified in the key DefaultUser.

DefaultUser

    The user to preselect if PreselectUser is set to Default.
FocusPasswd

    If this is true, the password input field is automatically focused if a user is preselected. The default is False.
EchoMode

    The password input field cloaks the typed in text. Here you can specify how to do it:

    NoEcho

        Nothing is shown at all. The cursor doesn't move.
    OneStar

        * is shown for every typed letter. This is the default.
    ThreeStars

        *** is shown for every typed letter.

UseBackground

    If true, kdm will set the background via krootimage. Otherwise the Setup script should be used to set up the background. The default is true
BackgroundCfg

    The configuration file to use for krootimage if UseBackground is set to true. The default is $KDEDIR/share/config/kdm/backgroundrc
GrabServer

    Hold the X-Server grabbed the whole time the greeter is visible. This may be more secure, but it will disable any background and other X clients started from the Setup script. The default is false
GrabTimeout

    How many seconds to wait for the grab to succeed.
AuthComplain

    Warn if local X authorization cannot be created. The default is true. This option is not implemented yet, so changing it will have no effect.

X-:*-Core

Core configuration for local displays.

Keys for the [X-:*-Core] section of kdmrc

ServerAttempts

    How often to try to run the X-Server. Running includes executing it, and waiting for it to come up. The default is 1.
ServerTimeout, AllowShutdown, AllowRootLogin, AllowNullPasswd,

    The same as for the [X-*-Core] section.
NoPassEnable

    Enable password-less logins on this display. Use with extreme care! The default is false.
NoPassUsers

    The users that don't need to provide a password to log in. Never list root.

X-:*-Greeter

Greeter configuration for local displays

Keys for the [X-:*-Greeter] Section of kdmrc

AuthComplain

    The same as for the [X-*-Greeter] section.
GreeterScreen

    The screen the greeter should be displayed on in multi-headed setups. The numbering starts with 0 and corresponds to the listing order in the active ServerLayout section of XF86Config. -1 means to use the upper-left screen, -2 means to use the upper-right screen. The default is 0.
LoginMode

    Specify whether the greeter of local displays should start up in host chooser (remote) or login (local) mode and whether it is allowed to switch to the other mode.

    Available values are:

    LocalOnly

        Only local login possible. This is the default.
    RemoteOnly

        Only choice of remote host is possible.
    DefaultLocal

        Start up in local mode, but allow switch to remote mode.
    DefaultRemote

        Start up in remote mode, but allow switch to local mode.

ChooserHosts

    Comma separated list of hosts to be automatically added to the remote login menu. The special name * means broadcast. The default is *.

X-:0-Core

Core configuration for just the first local display

Keys for the [X-:0-Core] Section of kdmrc

AutoLoginEnable

    Enable automatic login on this display. Use with extreme care!
AutoLoginUser

    The user to log in automatically. Never specify root.
AutoLoginPass

    The password for the user to log in automatically. This is not required unless the user is logged into a NIS or Kerberos domain. If you use this option, you should chmod 600 kdmrc for obvious reasons.
AutoLoginSession

    The session for the user to log in automatically. This becomes useless after the user's first login, as the last used session will take precedence.

X-:0-Greeter

Greeter config for 1st local display

Keys for the [X-:0-Greeter] Section of kdmrc

PreselectUser, DefaultUser,

    These options are the same as for the [X-*-Greeter] section.















Kapitel 6. Ihr System für die Benutzung von kdm einrichten

Inhaltsverzeichnis

kdm einstellen

Für dieses Kapitel wird vorausgesetzt, dass Ihr System bereits für das X Window System eingerichtet ist und das Sie es nur noch für ein graphisches Anmelden einstellen müssen.
kdm einstellen

Der Standard-Runlevel bestimmt, ob Ihr Systemstart mit einer Eingabeaufforderung auf einem Terminal (Konsolen-Modus) endet oder mit einer graphischen Eingabeaufforderung wie kdm. Der Runlevel wird vom Programm /sbin/init gesetzt, das die Datei /etc/inittab benutzt. Die Standard-Runlevel, die von verschiedenen Unix-Systemen (und Linux-Distributionen) benutzt werden, sind unterschiedlich, aber wenn Sie die Datei /etc/inittab betrachten, sollte der Anfang dieser Datei in etwa so aussehen:

# Default Runlevel. The Runlevels used by RHS are:
# 0 - halt (Do NOT set initdefault to this)
# 1 - Single user mode
# 2 - Multiuser, without NFS
# 3 - Full multiuser mode
# 4 - unused
# 5 - X11
# 6 - reboot (Do NOT set initdefault to this)

id:3:initdefault:  

Alle Zeilen dieses Auszuges bis auf die letzte sind Kommentare. Die Kommentare zeigen, dass Runlevel 5 für X11 benutzt wird und Runlevel 3 für den Mehrfachbenutzermodus ohne X11 (Konsolen-Modus). Die letzte Zeile legt fest, dass der Standard-Runlevel des Systems 3 ist (Konsolen-Modus). Wenn Ihr System zur Zeit eine graphische Eingabeaufforderung benutzt (z. B. xdm), wird sein Standard-Runlevel dem für X11 entsprechen.

Der Runlevel mit graphischer Eingabeaufforderung (xdm) hat für einige gebräuchliche Linux-Distributionen folgende Werte:

    *

      5 für Red Hat® ab 3.x und für Mandrake?
    *

      4 für Slackware
    *

      3 für SuSE® 4.x, und 5.x

Der erste Schritt für Ihr System ist, sicherzustellen, dass Sie kdm von der Kommandozeile aus starten können. Wenn das funktioniert, können Sie Ihr System so einrichten, dass kdm automatisch bei jedem System(neu)start startet.

Um kdm zu testen müssen Sie Ihr System zuerst auf einen Runlevel bringen, bei dem xdm nicht läuft. Dazu müssen Sie einen Befehl wie den folgenden geben:

/sbin/init 3

Anstelle der Zahl 3 müssen Sie den entsprechenden Wert für den Konsolen-Modus auf Ihrem System benutzen.

Wenn Ihr System Pluggable Authentication Modules (PAM) benutzt, was bei den meisten modernen Linux® und Solaris Systemen der Fall ist, sollten Sie prüfen, ob Ihre PAM-Einstellungen das Anmelden mit einem Service namenskde erlaubt.Wenn Sie bisher xdm erfolgreich benutzt haben, müssen Sie Ihre PAM-Einstellungen nicht ändern, um kdm benutzen zu können (/etc/pam.conf oder /etc/pam.d/kde). Hinweise zur Einrichtung von PAM würden den Rahmen dieses Handbuches sprengen, aber zu PAM gibt es eine umfangreiche Dokumentation.(siehe auch /usr/share/doc/*pam*/html/).

Jetzt sollten Sie kdm mit dem folgenden Befehl testen:

kdm -nodaemon

Wenn Sie das kdm-Anmeldefenster sehen und sich anmelden können, ist alles in Ordnung. Das Schlimmste, was hier passieren kann, ist dass der Laufzeit-Linker die shared libraries für Qt? oder KDE nicht findet. Wenn Sie eine binäre Distribution der KDE-Bibliotheken installiert haben, stellen Sie sicher, dass kdm dort installiert ist, wo die Bibliotheken dieanderen Bestandteile von KDE vermuten und setzen Sie die Umgebungsvariablen, die auf Ihre KDE- und Qt?-Bibliotheken zeigen.

Zum Beispiel:

export 
KDEDIR=/opt/kde
export 
QTDIR=/usr/lib/qt2
export 
PATH=$KDEDIR/bin:$QTDIR/bin:$PATH
export 
LD_LIBRARY_PATH=$KDEDIR/lib:$QTDIR/lib

Wenn Sie noch immer keinen Erfolge haben, versuchen Sie, stattdessen xdm zu starten um sicherzustellen, dass kein grundlegenderes Problem mit den X-Einstellungen dahinter steckt.

Wenn Sie kdm erfolgreich starten können, ersetzen Sie xdm durch kdm. Dies ist wieder je nach Distribution unterschiedlich.

    *

      Bei einer Red Hat®-Distribution müssen Sie /etc/inittab editieren, nach der Zeichenkette xdm suchen und sie durch kdm (einschließlich aller Pfade) ersetzen.
    *

      Bei einer Mandrake?-Distribution wird im X11 Runlevel in /etc/inittab das Shellskript /etc/X11/prefdm aufgerufen. In diesem Skript wird ausgewählt, welcher Anmeldungsmanager (unter anderen kdm) benutzt wird. Stellen Sie sicher, das alle Verzeichnispfade korrekt sind.
    *

      Bei einerSuSE® -Distribution müssen Sie in der Datei /sbin/init.d/xdm ganz am Anfang die folgende Zeilen hinzufügen:

. /etc/rc.config
DISPLAYMANAGER=kdm
export DISPLAYMANAGER

    *

      Bei FreeBSD müssen Sie in der Datei /etc/ttys eine Zeile wie

ttyv8   "/usr/X11R6/bin/xdm -nodaemon"  xterm   off secure

      finden, und so verändern:

ttyv8   "/usr/local/bin/kdm -nodaemon"  xterm   on secure

    *

      Bei den meisten anderen Distributionen wird die Einrichtung auf eine vergleichbare Art vorgenommen.

Nun können Sie kdm testen, indem Sie Ihr System auf den Runlevel für die graphische Anmeldung bringen. Geben Sie auf der Befehlszeile folgenden Befehl ein:

/sbin/init 5

Anstelle der Zahl 5 nehmen Sie den entsprechenden Wert für den Runlevel auf Ihrem System, der X11 startet.

Als letzten Schritt müssen Sie den Parameter initdefault in der Datei /etc/inittab ändern. Geben Sie hier den Runlevel an, der X11 startet.
Warnung

Bevor Sie diese Änderungen durchführen, sollten Sie sicherstellen, dass Sie ihr System neu starten können, falls ein Problem auftritt. Dies kann in Form einer ?Rettungs?-Bootdiskette Ihrer Distribution oder auch durch ein spezielles ?Rettungssystem? wie etwa tomsrtbt geschehen. Bitte nehmen Sie diese Warnung ernst!

Nach einem Neustart sollten Sie jetzt das kdm graphische Anmeldungsfenster sehen.

Sollte das nicht geschehen, so liegt das Problem wahrscheinlich darin, dass die Umgebungsvariable während des Bootvorgangs andere Werte haben, als während ihres Tests. Falls Sie versuchen zwei Version von KDE nebeneinander zu betreiben sollten Sie besonders darauf achten dass die Umgebungsvariablen PATH und LD_LIBRARY_PATH korrekt gesetzt sind, und das die Startup-Skripts diese nicht irgendwie überschreiben.


















Kapitel 7. Unterstützung mehrerer Window-Manager

Das Hauptdialogfenster für kdm enthält einen Sitzungsart-Knopf, mit dem man einen Window-Manager für die Sitzung wählen kann. Dieses Kapitel beschreibt die Änderungen, die man in den Konfigurationsdateien vornehmen muss, um diese Funktion zu unterstützen.

Die Einträge, die erscheinen, wenn man auf den Sitzungsart-Knopf klickt, werden durch Einträge im KDM-Abschnitt der Datei kdmrc eingerichtet.

Wenn Sie mit kdm anmelden, wird das Shellskript Xsession ausgeführt. Die gewählte Sitzungsart wird als Befehlszeilenargument übergeben. (Xsession finden Sie für Redhat und Mandrake im Verzeichnis /etc/X11/xdm/ und für S.u.S.E. im Verzeichnis /usr/X11R6/lib/X11/xdm/). Bei der Problembehebung fügen Sie folgende Zeile zu Xsession hinzu:

echo "$0 || $1 || $2" 
> $HOME/.Xsession_args 

Das weitere Vorgehen hängt davon ab, wie Ihr System normalerweise die Window-Manager startet. Hier sind zwei verschiedene Möglichkeiten mit Beispielen für die benötigten Änderungen:

    *

      Der Window-Manager wird mit Befehlen innerhalb von Xsession gestartet. In diesem Fall können Sie ein case-Statement hinzufügen, um den gewünschten Window-Manager starten zu können. Mandrake-Linux macht das so; hier ist ein Auszug aus Xsession:

# now, we see if xdm/gdm/kdm has asked for a specific environment
case $# in
1)
    case $1 in
        kde)
        source /opt/kde2/bin/kde1
        exec startkde
        ;;
        kde2)
        source /opt/kde2/bin/kde2
        exec startkde
        ;;
            failsafe)
        exec xterm -geometry 80x24-0-0
        ;;
        default)
        ;;
        *)
        exec /bin/sh -c "$(/usr/sbin/chksession -x=$1)"
        ;;
     esac
esac

    *

      Der Window-Manager wird mit einem weiteren Skript gestartet, das von Xsession aufgerufen wird. In diesem Fall müssen Sie sicherstellen, dass der Parameter, der an Xsession übergeben wird, auch an das andere Skript übergeben wird. Wird der Window-Manager z. B. wie folgt gestartet:

exec $startup

      ändern Sie die Zeile in:

exec $startup$@

      Nach der Änderung müssen Sie im Startskript die Zeile finden, in der der Window-Manager gestartet wird. Eine Möglichkeit benutzt xinitrc, um den Window-Manager zu starten. Damit kann man die Systemdatei /etc/X11/xinit/xinitrc oder die benutzerspezifische Datei $HOME/.xinitrc benutzen. Wenn Sie $HOME/.xinitrc anpassen, sollten Sie eine Kopie im Verzeichnis /etc/skel speichern, so dass sie für jeden zukünftigen Benutzer korrekt angelegt wird. Hier ist ein Beispiel für xinitrc für ein System mit dieser Vorgehensweise:

#!/bin/bash
#
# .xsession/.xinitrc
#
# choose a window manager
#

defaultwm=kde
#set the window manager to $1 if it was supplied
windowmgr=${1:-$defaultwm}

#start the respective window managers
case ${windowmgr} in
  kde|kwm|kdestart)
        WINDOWMANAGER=startkde
        ;;
  fvwm|fvwm2)
        WINDOWMANAGER=fvwm2
        ;;

  fvwm95)
        WINDOWMANAGER=fvwm95
        ;;

  *)    WINDOWMANAGER=windowmgr   # default for unknown wm's

esac

#
# load resources
#

if [ -f /usr/X11R6/lib/X11/Xmodmap ]; then
    xmodmap /usr/X11R6/lib/X11/Xmodmap
fi

if [ -f ~/.Xmodmap ]; then
    xmodmap ~/.Xmodmap
fi

if [ -f ~/.Xdefaults ]; then
    xrdb -merge ~/.Xdefaults
fi

if [ -f ~/.Xresources ]; then
    xrdb -merge ~/.Xresources
fi
# 
# finally start the window manager
#
exec $WINDOWMANAGER










Kapitel 8. kdm für Anmeldungen über Fremdrechner benutzen (XDMCP)

XDMCP ist der Open-Group-Standard, das ?X Display Manager Control Protocol?. Dieses wird benutzt um Verbindungen zwischen verschiedenen Rechnern eines Netzwerks herzustellen.

XDMCP ist von Nutzen in Situation in denen sich mehrere Benutzer mit Workstations einen leistungsstarken Server teilen, der mehrere X-Sitzungen gleichzeitig abwickeln kann.Zum Beispiel läßt sich XDMCP einsetzen um alte Computer zu recyclen. Ein Pentium oder sogar nur ein 486er-Computer mit 16 MB RAM ist ausreichend um X zu betreiben. Mittels XDMCP kann so ein Computer eine komplette, moderne KDE-Sitzung eines Servers zu bedienen. Auf dem Server gilt, dass weitere KDE-Sitzungen zu einer bereits bestehenden nur geringfügig mehr Ressourcen verbrauchen.

Dennoch - eine weitere Methode zur Anmeldung zum System bereitzustellen hat natürlich einen Einfluß auf die Sicherheit des Systems. Es empfiehlt sich diesen Service nur dann einzurichten wenn X-Server von Fremdrechnern auf diesem System Anmeldevorgänge durchführen sollen. Benutzer mit nur einem UNIX®-System sollten diesen Service nicht aktivieren.









Kapitel 9. Weitere Informationen

Da kdm von xdm abstammt, finden Sie auf der Manual-Seite von xdm hilfreiche Hintergrundinformationen. Für Probleme mit X sollten Sie die Manual-Seiten von X und startx lesen. Wenn Sie Fragen zu kdm haben, die dieses Handbuch nicht beantwortet, können Sie die Tatsache, dass kdm unter den Lizenzbedingungen von GNU entwickelt wurde ausnutzen und direkt den Quellcode konsultieren. 








Kapitel 10. Mitwirkende und Lizenz

kdm stammt von xdm ab und enthält Code von diesem. (C) Keith Packard, MIT X Consortium.

kdm 0.1 wurde von Matthias Ettrich geschrieben. Spätere Versionen bis KDE 2.0.x wurden von Steffen Hansen erstellt. Einige neue Features für KDE 2.1.x und eine Generalüberholung für KDE 2.2.x wurden von Oswald Buddenhagen durchgeführt.

Andere Teile des kdm-Codes gehören urheberrechtlich den Autoren und sind nach den Bedingungen der GNU GPL lizenziert. Jeder darf kdm ändern und das Ergebnis neu verteilen, solange die Namen der Autoren genannt werden.

kdm benötigt die Qt-Bibliothek, für die Troll Tech AS das Copyright besitzt.

Mitwirkende an der Dokumentation:

    *

      Die Dokumentation wurde von Steffen Hansen (stefh AT dit.ou.dk) geschrieben.
    *

      Erweiterungen der Dokumentation wurden von Gregor Zumstein(zumstein AT ssd.ethz.ch) hinzugefügt. Letzte Änderung am 09.07.1998.
    *

      Für KDE2 wurde die Dokumentation von Neal Crook überarbeitet (nac AT forth.org). Letzte Änderung am 06.07.2001.
    *

      Für KDE 2.2. wurde die Dokumentation von Oswald Buddenhagen(ossi AT kde.org) überarbeitet und erweitert.Letzte Änderung am XX.07.2001.

Copyright der Dokumentation Steffen Hansen, Gregor Zumstein, Neal Crook und Oswald Buddenhagen. Diese Dokument enthält auch große Teile der xdm-Manual-Seite(C) Keith Packard.

Volker Dose (vpdose AT cpmgut.toppoint.de), Hartmut Haase (hartmut.haase AT web.de), Stefan Doll (stefan AT laugenweck.de)

Diese Dokumentation ist unter den Bedingungen der GNU Free Documentation License veröffentlicht.

Dieses Programm ist unter den Bedingungen der GNU General Public License veröffentlicht.










Anhang A. kdm übersetzen und installieren

kdm ist Teil des KDE-Projektes. Die verschiedenen Komponenten des KDE-Projektes sind in Abschnitte unterteilt, Pakete genannt. kdm ist Teil des Paketes kdebase. Den KDE-Quellcode finden Sie auf den CDs verschiedener Linux- und BSD-Distributionen, oder Sie können ihn von www.kde.org oder seinen Spiegeln herunterladen. Wenn Sie einen veralteten Quellprogrammverzeichnisbaum haben, können Sie die cvsup-Server von KDE zum aktualisieren benutzen, auf diese Art wird am wenigsten Netzbandbreite verbraucht.

Bevor Sie kdebase übersetzen können, müssen Sie zunächst (in dieser Reihenfolge) Version 2 der Qt-Bibliothek und die KDE-Pakete kdesupport (optional) und kdelibs übersetzen.

Dafür müssen Sie bereits ein X-Window-System installiert haben, zusammen mit einem C++ Compiler. Um die CVS-Quellen zu übersetzen sind außerdemdir Konfigurationswerkzeugeautomake und autoconf von GNU nötig.

Das Übersetzen von KDE aus den Quellen heraus ist nicht gerade eine triviale Beschäftigung, ohne fortgeschrittene Unix-Kenntnisse sollten Sie lieber ein Paket passend zu ihrer Distribution installieren (z.B. eine RPM-Datei).

Wenn Sie es geschafft haben, alle aufgeführten Voraussetzungen herzustellen, werden Sie beim Übersetzen und Installieren von kdebase wahrscheinlich keine Probleme bekommen. kdm wird in den Ordner $KDEDIR/bin installiert.
Anmerkung

make install wird Ihre bisherige kdm-Konfigurationsdateien wie kdmrc NICHT überschreiben.

-->



























