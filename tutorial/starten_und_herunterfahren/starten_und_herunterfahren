<?xml version="1.0" encoding="iso-8859-1"?>

<chapter>
<title>Starten und Herunterfahren</title>

<author>
	<name>Florian Frank</name>
	<mailto>florian@pingos.org</mailto>
</author>

<author>
	<name>Matthias Kleine</name>
	<mailto>kleine_matthias@gmx.de</mailto>
</author>
<layout>
	<name>Johnny Graber</name>
	<mailto>selflinux@jgraber.ch</mailto>
</layout>

<license>
GPL
</license>

<index>starten_und_herunterfahren</index>

<split>
 <section>
  <heading>
Starten und Herunterfahren
  </heading>

  <section>
   <heading>
Einführung
   </heading>

   <textblock>
Das Starten und das Herunterfahren eines Rechners sind ausgesprochen sensible
Vorgänge. Die zahlreichen Meldungen, die vom Kernel und verschiedenen Diensten
stammen, liefern dem Systemverwalter wertvolle Daten über die
Funktionsfähigkeit des Systems. An dieser Stelle wäre es freilich noch
verfrüht, auf all diese Meldungen näher einzugehen.
Da viele Benutzer heute
jedoch bereits an Linux-Rechnern arbeiten, die sie eigenständig booten und
herunterfahren dürfen, sind einige Bemerkungen angebracht.
   </textblock>

   <textblock>
Lange Zeit war es den Benutzern einer Unix-Maschine gar nicht möglich, das
System zu starten oder herunterzufahren. Starten deshalb, weil die Rechner im
Regelfall hinter verschlossenen Türen liefen und nur dem Systemverwalter
physisch zugänglich waren. Und herunterfahren, weil es Unix (und auch Linux)
seinen Benutzern verbietet, den Lauf des Systems ohne weiteres zu beenden.
Auch dies bleibt dem Systemverwalter root vorbehalten.
   </textblock>

   <textblock>
Für ein Multiuser-Betriebssystem versteht sich diese Eigenschaft von selbst,
schließlich arbeiten im Regelfall mehrere Benutzer auf einem Rechner. Hinzu
kommt, dass der Rechner auch innerhalb eines Netzes für die Bereitstellung von
Diensten zuständig sein kann, die natürlich ebenfalls beendet würden. Ein
Benutzer kann oft gar nicht abschätzen, wieviele andere Benutzer von der
Maschine abhängen, auf der er gerade arbeitet. In Zeiten der bootfreudigen
Windows-Rechner mag auch die Tatsache, dass Unix-Rechner im Regelfall viele
Wochen und Monate ohne einen Reboot ihren Dienst tun, etwas in Vergessenheit
geraten sein.
   </textblock>

   <textblock>
Nachdem Linux nun auch auf gewöhnlichen PC's und damit in den Büros und
Arbeitszimmern der Benutzer Einzug gehalten hat, ist es auch den Benutzern
möglich geworden, über Start und Beendigung des Systems zu entscheiden. Der
Rechner ist nun frei zugänglich und kann jederzeit eingeschaltet werden. Etwas
anders verhält es sich noch mit dem geordneten Herunterfahren. Dies ist eigentlich
nach wie vor (z.B. mittels der Kommandos <command>shutdown</command>, <command>init</command> oder <command>halt</command>) dem
Administrator root vorbehalten. Viele Distributionen bieten mittlerweile jedoch
im Rahmen eines grafischen Login-Managers die Möglichkeit, das System
nach dem Abmelden über einen Knopf herunterzufahren. Des weiteren
funktioniert meist auch die Tastenkombination <keycomb mode="hold"><key>Strg</key><key>Alt</key><key>Entf</key></keycomb>, wenn man
einen Reboot auszulösen möchte.
   </textblock>
  </section>

  <section>
   <heading>
Den Rechner starten
   </heading>

   <textblock>
Nach dem Betätigen des Power-Knopfes muss man nichts weiter tun, um das
Linux-System vollständig booten zu lassen. Zu Beginn des Bootens wird
man kurz mit einem sogenannten Bootloader konfrontiert. Im Regelfall
wird dies der LInux-LOader LILO sein, der einen kurzen Moment lang auf
eine Eingabe wartet. Tut man an dieser Stelle nichts, lädt LILO
dasjenige Betriebssystem, das ihm vom Systemverwalter als Standard
bekanntgemacht wurde. Wir gehen hier davon aus,
dass dies unser aktuelles Linux-System ist. Es ist jedoch auch möglich, dass
hier weitere Betriebssysteme oder andere Linux-Versionen ausgewählt werden
können. Eine Liste aller Möglichkeiten erhält man mittels der Tab-Taste,
während LILO auf eine Eingabe wartet. Neuere Distributionen bieten anstelle
des ehemals spartanischen LILO-Promptes gelegentlich ein grafisches Menü, das
die verschiedenen Bootmöglichkeiten anzeigt. Auch der Bootloader Grub
kommt meist in einem grafischen Gewand daher und bietet Ihnen ein
Auswahlmenü an. Im Regelfall muss man nichts anderes tun als mittels
der Pfeiltasten das Betriebssystem auszuwählen, das man starten möchte, und
dann durch Betätigung der Enter-Taste den Bootvorgang zu starten. Nachdem der
Bootloader schließlich den Bootvorgang in die Wege geleitet hat,
können wir die Bootmeldungen verfolgen.
Ist der Bootvorgang abgeschlossen, so erscheint
eine lapidare <command>login:</command>-Aufforderung. Wurde ein grafischer
Login-Manager konfiguriert, so öffnet sich ein Anmeldefenster und
wartet auf die Eingabe von Benutzername und Passwort. Weitere Datails
zum An- und Abmelden von einem Linux-System werden im nächsten
Kapitel behandelt.
   </textblock>
  </section>
  <section>
   <heading>
Den Rechner herunterfahren
   </heading>

   <textblock>
Ein DOS-Betriebssystem kennt kein Herunterfahren und darf jederzeit
schlichtweg ausgeschaltet werden. Wie andere Unix-Systeme auch, reagiert Linux
jedoch ausgesprochen empfindlich, wenn es nicht ordnungsgemäß beendet wird.
Welche Hintergründe dies hat, erfordert einige Einblicke in die
Funktionsweise des Kernels und soll daher an dieser Stelle nicht
näher behandelt werden. Vorläufig soll der Rat genügen, ein Linux-System niemals
durch den Power- oder Reset-Knopf abrupt zu beenden, wenn dies
vermeidbar ist.
   </textblock>

   <textblock>
Wenn Sie das Passwort von root nicht kennen, den Rechner aber dennoch
herunterfahren wollen, bleibt Ihnen normalerweise nur die Tastenkombination <keycomb mode="hold"><key>Strg</key><key>Alt</key><key>Entf</key></keycomb>.
Warten sie danach ab, bis alle Dienste beendet sind und der Rechner mit dem
Neustart beginnen will. In diesem Moment können sie den Rechner beruhigt
ausschalten. Natürlich können Sie auch die entsprechende Funktion
eines grafischen Login-Managers verwenden, wenn diese angeboten wird.
Verfügen Sie andererseits über root-Rechte, ist es meist praktischer,
das passende Kommando abzusetzen.
   </textblock>

   <textblock>
Grundsätzlich stehen zu diesem Zweck mehrere unterschiedliche Kommandos zur
Verfügung. An dieser Stelle soll vorerst nur das gebräuchliste genannt werden,
das in praktisch allen Situationen einsetzbar ist - das Kommando 
<command>shutdown</command>. Das richtige Kommando zum sofortigen Herunterfahren lautet
   </textblock>

   <shell>
    <root>    
shutdown -h now
    </root>
   </shell>

   <textblock>
Unmittelbar nach dem Absetzen des Kommandos (als root) erscheint die Meldung
   </textblock>
    
   <shell>
    <output>
"The System in going down for system halt NOW!!"
    </output>
   </shell>

   <textblock>
Den laufenden Prozessen werden Signale versendet, die sie zur
Beendigung veranlassen. Das System fährt hoffentlich vollständig 
herunter und verabschiedet sich mit der Meldung
   </textblock>
   <shell>
    <output>
Master Ressource Control: runlevel 0 has been      reached
    </output>
   </shell> 

   <textblock>
Die Parameter von shutdown deuten an dieser Stelle bereits an, dass das 
Kommando weitere Möglichkeiten bietet. Beispielsweise kann durch den Paramenter 
<command>-r</command>, also durch
   </textblock> 

   <shell>
    <root>
shutdown -r now
    </root>
   </shell>

   <textblock>
anstelle des einfachen Herunterfahrens ein Reboot veranlasst werden. Darüber
hinaus können anstelle von <command>now</command> auch absolute oder relative Zeitangaben
verwendet werden, um den Shutdown erst später durchzuführen und damit
beispielsweise weiteren Benutzern die Möglichkeit zu geben, ihre Arbeit zu
sichern und alle laufenden Aktivitäten ordnungsgemäß zu beenden.
   </textblock>
  </section>
 </section>
</split>

</chapter>
