<!--
 * {Motif Window Manager (mwm)}
 * Copyright {Jörg Kositza}
 * Lizenz: GPL
 *
 * $Revision: 1.1 $
 * $Source: /selflinux/tutorial/mwm/mwm,v $
 *
 * Diese Datei ist Teil von SelfLinux  http://www.selflinux.de
 *
 *** $ $
-->



1 Einleitung

Der Motif Window Manager (mwm) ist der Standard-Fenstermanager
unter UNIX-Systemen.
Man kann ihn unter dem Namen openmotif von
http://www.rpmseek.com oder von http://rpm.pbone.net herunterladen.
Er zeichnet sich dadurch aus, daß er keinerlei
Hintergrundprozesse startet. Der mwm ist somit auch für
langsame Rechner bestens geeignet.
Er stellt eine Iconbox bereit; der Bildschirm sieht somit
immer aufgeräumt aus.



2 Aussehen und Bedienung

<!-- Bild Anfang -->

mwm_mwm-desktop.png

<!-- Bild Ende -->

Beim ersten Start präsentiert sich mwm aufgeräumt und meist
sehr leer. Ein Klick mit einer der 3 Maustasten auf einen
freien Platz der Arbeitsfläche bringt jeweils ein anderes Menü
hervor.

<!-- Bild Anfang -->

mwm_mwm-menu1.png

<!-- Bild Ende -->

Bei gedrückter Maustaste wählt man die gewünschte Funktion
aus. Beim Loslassen der Maustaste verschwindet das Menü wieder
und kurz darauf erscheint das Fenster der ausgewählten
Funktion.
Nach der Neuinstallation von Openmotif ist lediglich das Menü
der rechten Maustaste belegt.
Man kann das Drücken der 3 Maustasten noch mit der Funktion
Doubleclick und dem parallelen Betätigen der Shift-,Ctrl- oder
Alt-Taste kombinieren. Somit erhält man 15 verschiedene Menüs
und kann darauf eine große Anzahl Funktionen unterbringen.
Normalerweise befindet sich am unteren Bildschirmrand die
Iconbox. Man kann sie jedoch auch an beliebiger anderer Stelle
auf dem Bildschirm unterbringen. Die Ikonen lassen sich mit
kleinen 50x50 Pixel großen xpm-Grafiken ausfüllen. Hierzu
später mehr.
Mit der Funktion display läßt sich ein Hntergrundbild
einrichten. Diese Funktion ist Bestandteil des Pakets
ImageMagick. Mit Shuffle Up bzw. Shuffle Down können Fenster
in den Vordergrund bzw. Hintergrund geschaltet werden. Mit
Pack Icons lassen sich die Ikonen der Iconbox
zusammenschieben. Mit Restart kann der Fenstermanager nach
einer Änderung der Parameterdateien neu gestartet werden.



3 Besonderheiten



3.1 Fenster verändern

Wenn man mit der linken Maustaste auf das kleine Qudrat links
oben im Fenster klickt,so erhält man das folgende Fenstermenü:

<!-- Bild Anfang -->

mwm_mwm-fenstermenu.png

<!-- Bild Ende -->

mit den Funktionen:

<!-- Aufzählung Anfang -->

- Restore: Fenster von Bildschirmgröße auf Normalgröße verkleinern
(vorherige Fenstergröße Wiederherstellen)
- Move: Fenster verschieben
- Size: Fenstergröße ändern
- Minimize: Fenster in der Iconbox verschwinden lassen
- Maximize: Fenster auf Bildschirmgröße vergrößern
- Raise: Fenster in den Vordergrund klicken
- Lower: Fenster in den Hintergrund klicken
- Close: Fenster schließen

<Aufzählung Ende -->

Die obigen Funktionen lassen sich auch folgendermaßen
ausführen:

<!-- Aufzählung Anfang -->

- Wiederherstellen: mit linker Taste auf rechtes Quadrat klicken
- Fenster verschieben: mit linker Taste auf die Titelleiste klicken
- Größe ändern: mit linker Taste auf den Rand klicken
- Minimieren: mit linker Taste auf 2. Quadrat von rechts klicken
- Maximieren: mit linker Taste auf rechtes Quadrat klicken
- Fenster in den Vordergrund: Titelleiste anklicken
- Fenster aus Iconbox auf den Bildschirm: Doppelklick auf Icon
- Fenster schließen: Doppelklick auf linkes Quadrat

<!-- Aufzählung Ende -->



3.2 Konfigurationsdateien

Es existieren drei verschiedene System-Konfigurationsdateien. Man
kann sich eine Kopie im benutzereigenen Verzeichnis erstellen und diese
nach Belieben verändern.

<!-- Beginn Tabelle -->

Systemdatei                        Kopie im benutzereigenen Verzeichnis
/usr/X11R6/lib/X11/system.mwmrc    .mwmrc         
/etc/X11/xinit/xinitrc             .xinitrc       
/usr/X11R6/lib/X11/Xresources      .Xdefaults     

<!-- Ende Tabelle -->

Im Verzeichnis /usr/X11R6/lib/X11/app-defaults befinden sich
Dateien mit Standardwerten zu vielen installierten
grafischen Programmen. Die entsprechenden Werte für mwm lassen sich
in der Manpage nachsehen.

<!-- Beginn Aufzählung -->

- .mwmrc: In dieser Datei befinden sich sämtliche Einstellungen zu den
Menüs. Manualseite: mwmrc
- .xinitrc: In dieser Datei befinden sich sämtliche Kommandos, die beim
Start des Fenstermanagers ausgeführt werden.
- .Xdefaults: In dieser Datei befinden sich sämtliche Einstellungen, die
das Aussehen des Fenstermanagers betreffen, insbesondere die Farben.

<!-- Ende Aufzählung -->



4 Konfiguration
 
Sollte in der Datei .mwmrc etwas verändert worden sein, muß mwm
neu gestartet werden. Nach Änderungen in der Datei
.Xdefaults ist vor einem Neustart das Kommando
xrdb .Xdefaults
einzugeben.



4.1 .mwmrc

In dieser Datei befinden sich die Konfigurationen sämtlicher
Menüs.

<!-- Beginn Aufzählung -->

- Root Menu Description: Hier werden sämtliche Anwendermenüs beschrieben
    - f.title: Titelzeile
    - f.exec: Ausführen von Funktionen
    - f.separator: Trennstrich im Menü
- Default Window Menu: Hier wird das Fenstermenü beschrieben. (Klick
auf das linke kleine Quadrat)
- Default Key Bindings: Der Fenstermanager kann auch über die Tastatur
bedient werden, z.B. Alt Shift Esc bzw. Alt Esc schalten das Fenster
in den Vorder-/Hintergrund.
- Button Binding Description(s): Hier werden die Tastenkombinationen von
Maustasten ,Ctrl-,Alt- und Shift-Taste sowie Doubleclick eingerichtet.

<!-- Ende Aufzählung -->

<!-- Beginn Listing -->

!!                                                         
!! Root Menu Description                                   
!!                                                         
Menu RootMenu1                                             
{                                                          
 "Root Menu1"            f.title                           
 "New Window"            f.exec "xterm -geometry -10-10 -sl
500 -sb -ls &"                                             
 "Firefox"               f.exec "firefox"                  
  no-label               f.separator                       
  no-label               f.separator                       
  no-label               f.separator                       
 "Shuffle Up"            f.circle_up                       
 "Shuffle Down"          f.circle_down                     
 "Refresh"               f.refresh                         
 "Pack Icons"            f.pack_icons                      
 "Toggle Behavior..."    f.set_behavior                    
  no-label               f.separator                       
 "Restart..."            f.restart                         
 !"Quit..."              f.quit_mwm                        
}                                                          
[...]
Menu RootMenu3d                                            
{                                                          
 "Root Menu3d"                   f.title                   
}                                                          
!!                                                         
!! Default Window Menu                                     
!!                                                         
Menu DefaultWindowMenu                                     
{                                                          
        Restore         _R      Alt<Key>F5      f.restore  
        Move            _M      Alt<Key>F7      f.move     
        Size            _S      Alt<Key>F8      f.resize   
        Minimize        _n      Alt<Key>F9      f.minimize 
        Maximize        _x      Alt<Key>F10     f.maximize 
        Raise           _L      Alt<Key>F2      f.raise    
        Lower           _L      Alt<Key>F3      f.lower    
        no-label                                f.separator
        Close           _C      Alt<Key>F4      f.kill     
}                                                          
!!                                                         
!! Default Key Bindings                                    
!!                                                         
Keys DefaultKeyBindings                                    
{                                                          
        Shift<Key>Escape        window|icon                
f.post_wmenu                                               
        Alt<Key>space           window|icon                
f.post_wmenu                                               
        Alt<Key>Tab             root|icon|window           
f.next_key                                                 
        Alt Shift<Key>Tab       root|icon|window           
f.prev_key                                                 
        Alt<Key>Escape          root|icon|window           
f.circle_down                                              
        Alt Shift<Key>Escape    root|icon|window           
f.circle_up                                                
        Alt Shift Ctrl<Key>exclam root|icon|window         
f.set_behavior                                             
        Alt<Key>F6              window                     
f.next_key transient                                       
        Alt Shift<Key>F6        window                     
f.prev_key transient                                       
        Shift<Key>F10           icon                       
f.post_wmenu                                               
        Alt Shift<Key>Delete    root|icon|window           
f.restart ""                                               
}                                                          
!!                                                         
!! Button Binding Description(s)                           
!!                                                         
!! These can be used anywhere                              
!!                                                         
Buttons DefaultButtonBindings                              
{                                                          
        <Btn1Down>       icon|frame  f.raise               
        <Btn1Click2>     root        f.menu RootMenu1d     
        <Btn1Down>       root        f.menu RootMenu1      
        Shift<Btn1Down>  root        f.menu RootMenu1s     
        Ctrl<Btn1Down>   root        f.menu RootMenu1c     
        Alt<Btn1Down>    root        f.menu RootMenu1a     
        <Btn2Click2>     root        f.menu RootMenu2d     
        <Btn2Down>       root        f.menu RootMenu2      
        Shift<Btn2Down>  root        f.menu RootMenu2s     
        Ctrl<Btn2Down>   root        f.menu RootMenu2c     
        Alt<Btn2Down>    root        f.menu RootMenu2a     
        <Btn3Down>       icon|frame  f.post_wmenu          
        <Btn3Click2>     root        f.menu RootMenu3d     
        <Btn3Down>       root        f.menu RootMenu3      
        Shift<Btn3Down>  root        f.menu RootMenu3s     
        Ctrl<Btn3Down>   root        f.menu RootMenu3c     
        Alt<Btn3Down>    root        f.menu RootMenu3a     
}                                                          



4.2 .xinitrc

In dieser Datei befinden sich sämtliche Kommandos, die beim Start des
Fenstermanagers ausgeführt werden.

Zunächst werden xclock und xosview gestartet. Danach werden zwei
minimierte xterm-Fenster eröffnet und das Hintergrundbild eingerichtet.
Die wichtigen Zeichen | / \ { [ ] } und @ sind nur sehr umständlich über
AltGr bzw. Shift zu erreichen. Daher wurden diese Zeichen auf die
Funktionstasten F1 - F9 gelegt. Falls die Funktionstasten in irgendeinem
Programm benötigt werden, müssen diese Zeilen in .xinitrc deaktiviert
werden. Danach werden auch noch die eigentlich überflüssigen
Windows-Tasten einer sinnvollen Verwendung zugeführt. Zu guter letzt
wird noch der numerische Tastaturblock belegt, welcher standardmäßig
unter Linux nicht belegt ist.

<!-- Anfang Listing -->

[...]
#                                                           
# Add your own lines here...                                
#                                                           
xclock -geometry 150x150-20+1 -update 1 -fg white -bg blue \
-hd magenta -title `date +"%a__%d.%m.%y"` &                 
xosview +net +disk -name AUSWERT -title XOSVIEW -geometry - 
40+420 &                                                    
/usr/X11R6/bin/xload -geometry 100x100-20-1 -update 1 -fg   
yellow -bg magenta &                                        
xterm -sb -sl 300 -bg white -name oben -iconic -ls -geometry
+50+30 &                                                    
xterm -sb -sl 300 -bg white -name unten -iconic -ls -       
geometry +400+400 &                                         
display -window root 1024-stream12.jpg                      
# Belegung der Funktionstasten                              
# F1:|, F2:/, F3:\, F5:{, F6:[, F7:], F8:}, F9:@            
xmodmap -e "keycode 67 = bar"                               
xmodmap -e "keycode 68 = slash"                             
xmodmap -e "keycode 69 = backslash"                         
xmodmap -e "keycode 71 = braceleft"                         
xmodmap -e "keycode 72 = bracketleft"                       
xmodmap -e "keycode 73 = bracketright"                      
xmodmap -e "keycode 74 = braceright"                        
xmodmap -e "keycode 75 = at"                                
# Belegung der Microsoft-Windowstasten                      
# linke Taste:> , mittlere Taste:_ , rechte Taste:$         
xmodmap -e "keycode 115 = greater"                          
xmodmap -e "keycode 116 = underscore"                       
xmodmap -e "keycode 117 = dollar"                           
# Belegung des numerischen Tastenblocks                     
xmodmap -e "keycode 87 = 1"                                 
xmodmap -e "keycode 88 = 2"                                 
xmodmap -e "keycode 89 = 3"                                 
xmodmap -e "keycode 83 = 4"                                 
xmodmap -e "keycode 84 = 5"                                 
xmodmap -e "keycode 85 = 6"                                 
xmodmap -e "keycode 79 = 7"                                 
xmodmap -e "keycode 80 = 8"                                 
xmodmap -e "keycode 81 = 9"                                 
xmodmap -e "keycode 90 = 0"                                 
xmodmap -e "keycode 91 = period"                            
[...]

<!-- Ende Listing -->



4.3 .Xdefaults

In dieser Datei befinden sich sämtliche Voreinstellungen z. B.
Fensterfarben, Fenstergrößen, Menüfarben. Der Eintrag:

Mwm*AUSWERT*iconImage: auswert.xpm

stellt für die Funktion:

xosview +net +disk -name AUSWERT -title XOSVIEW -geometry - 40+420 &

mit dem Namen AUSWERT das Iconbild auswert.xpm zur Verfügung.

<!-- Anfang Bild -->

mwm_mwm-icon.png

<!-- Ende Bild -->

Hier ein Beispiel für die Datei .Xdefaults, das ein Aussehen von mwm wie
in den Abbildungen bewirkt.

<!-- Beginn Listing -->

.                                              
.                                              
.                                              
                                               
Mwm*UseIconBox:                 true           
Mwm*iconBoxGeometry:            10x1+1-1       
Mwm*interactivePlacement: false                
Mwm*iconPlacement:  bottom left                
! Mwm*passSelectButton:  false                 
Mwm*keyboardFocusPolicy: pointer               
Mwm*resizeBorderWidth: 10                      
                                               
Mwm*menu*fontList:  10x20                      
Mwm*menu*foreground:  yellow                   
Mwm*menu*background:  navyblue                 
                                               
Mwm*menu*RootMenu1*foreground:  yellow         
Mwm*menu*RootMenu1*background:  mediumblue     
Mwm*menu*RootMenu1d*foreground:  mediumblue    
Mwm*menu*RootMenu1d*background:  yellow        
Mwm*menu*RootMenu1s*foreground:  red           
Mwm*menu*RootMenu1s*background:  green         
Mwm*menu*RootMenu1c*foreground:  magenta       
Mwm*menu*RootMenu1c*background:  yellow        
Mwm*menu*RootMenu1a*foreground:  mediumblue    
Mwm*menu*RootMenu1a*background:  pinkyellow    
Mwm*menu*RootMenu2*foreground:  yellow         
Mwm*menu*RootMenu2*background:  mediumblue     
Mwm*menu*RootMenu2d*foreground:  mediumblue    
Mwm*menu*RootMenu2d*background:  yellow        
Mwm*menu*RootMenu2s*foreground:  orange        
Mwm*menu*RootMenu2s*background:  brown         
Mwm*menu*RootMenu2c*foreground:  black         
Mwm*menu*RootMenu2c*background:  white         
Mwm*menu*RootMenu2a*foreground:  green         
Mwm*menu*RootMenu2a*background:  orange        
Mwm*menu*RootMenu3*fontList: lucidasans-bold-24
Mwm*menu*RootMenu3*foreground:  yellow         
Mwm*menu*RootMenu3*background:  mediumblue     
Mwm*menu*RootMenu3d*foreground:  mediumblue    
Mwm*menu*RootMenu3d*background:  yellow        
Mwm*menu*RootMenu3s*foreground:  magenta       
Mwm*menu*RootMenu3s*background:  blue          
Mwm*menu*RootMenu3c*foreground:  green         
Mwm*menu*RootMenu3c*background:  brown         
Mwm*menu*RootMenu3a*foreground:  orange        
Mwm*menu*RootMenu3a*background:  blue          
                                               
Mwm*AUSWERT*iconImage:           auswert.xpm   
Mwm*xterm*iconImageBackground:   brown         
Mwm*xterm*iconImageForeground:   green         
Mwm*xclock*iconImageBackground:  blue          
Mwm*xclock*iconImageForeground:  red           
Mwm*xload*iconImageBackground:   magenta       
Mwm*xload*iconImageForeground:   yellow        
Mwm*iconDecoration:              label image   
Mwm*background:  forestgreen                   
Mwm*foreground:  maroon                        
Mwm*activeBackground:  turquoise               
Mwm*activeForeground:  orangered               
Mwm*wMenuButtonClick2:         True            
Mwm*doubleClickTime: 1000                      
.                                              
.                                              
.                                              

<!-- Ende Listing -->



4.4 Sonstiges

Es lassen sich anstelle von Texten auch kleine Bitmap-Grafiken in die
Menüs einfügen.

<!-- Anfang Bild -->

mwm_mwm-menu.png

<!-- Ende Bild -->

Hierzu ist die folgende Änderung in .mwmrc vorzunehmen:

<!-- Anfang Listing -->

Menu RootMenu3                        
{                                     
 "Root Menu3"           f.title       
 @xskat.xbm             f.exec "xskat"
}                                     

<!-- Ende Listing -->

Weiterhin lassen sich auch Untermenüs erzeugen.

<!-- Anfang Bild -->

mwm_mwm-submenu.png

<!-- Ende Bild -->

In .mwmrc ist hierzu folgende Eintragung notwendig:

<!-- Anfang Listing -->

Menu RootMenu1s                            
{                                          
 "Root Menu 1s"          f.title           
 "Root Menu 1s1"         f.menu RootMenu1s1
}                                          
Menu RootMenu1s1                           
{                                          
 "Root Menu 1s1"         f.title           
 @xskat.xbm              f.exec "xskat"    
}                                          

<!-- Ende Listing -->



5 Rückmeldung

Der Autor freut sich über konstruktive Kritik, gefundene Fehler,
Anregungen, etc.  Zu erreichen ist er per E-Mail an Jörg Kositza
(jkositza@yahoo.de). Viel Spaß bei der Konfiguration und der Nutzung
von mwm.

